# í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ Test Driven Development By Example (By Kent Beck)
# ë“¤ì–´ê°€ëŠ” ê¸€
    " ì–´ë–¤ ì½”ë“œê±´ ì‘ì„±í•˜ê¸° ì „ì— ì‹¤íŒ¨í•˜ëŠ” ìë™í™”ëœ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ë¼. "
    " ì¤‘ë³µì„ ì œê±°í•˜ë¼ "
# 01 í™”í ì˜ˆì œ
### í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ(TDD)ì˜ ë¦¬ë“¬
* ì¬ë¹¨ë¦¬ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ë‚˜ ì¶”ê°€í•œë‹¤.
* ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ê³  ìƒˆë¡œ ì¶”ê°€í•œ ê²ƒì´ ì‹¤íŒ¨í•˜ëŠ”ì§€ í™•ì¸í•œë‹¤.
* ì½”ë“œë¥¼ ì¡°ê¸ˆ ë°”ê¾¼ë‹¤.
* ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ê³  ì „ë¶€ ì„±ê³µí•˜ëŠ”ì§€ í™•ì¸í•œë‹¤
* ë¦¬íŒ©í† ë§ì„ í†µí•´ ì¤‘ë³µì„ ì œê±°í•œë‹¤.
## 1-1. ë‹¤ì¤‘ í†µí™”ë¥¼ ì§€ì›í•˜ëŠ” Money ê°ì²´
* ì›Œë“œê°€ ì™€ì´ìºì‹œì—ì„œ ë§Œë“¤ì—ˆë˜ ë‹¤ì¤‘ í†µí™”ë¥¼ ì§€ì›í•˜ëŠ” Money ê°ì²´

|ì¢…ëª©|ì£¼|ê°€ê²©|í•©ê³„|
|:---:|:---:|:---:|:---:|
|IBM|1000|25|25000|
|GE|400|100|40000|
|-|-|í•©ê³„|65000|
* ë‹¤ì¤‘ í†µí™”ë¥¼ ì§€ì›í•˜ëŠ” ë³´ê³ ì„œë¥¼ ë§Œë“¤ë ¤ë©´ í†µí™” ë‹¨ìœ„ë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤. 
  
|ì¢…ëª©|ì£¼|ê°€ê²©|í•©ê³„|
|:---:|:---:|:---:|:---:|
|IBM|1000|25USD|25000USD|
|Novartis|400|150CHF|60000CHF|
|-|-|í•©ê³„|65000USD|
- í™˜ìœ¨ë„ ëª…ì‹œí•´ì•¼ í•œë‹¤.

|ê¸°ì¤€|ë³€í™˜|í™˜ìœ¨|
|:---:|:---:|:---:|
|CHF|USD|1.5|
    $5 + 10CHF = $10(í™˜ìœ¨ì´ 2:1ì¼ ê²½ìš°)
    $5 x 2 = $10

### âœ” í• ì¼ ëª©ë¡ ë§Œë“¤ê¸°
> ì–´ë–¤ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•´ì•¼ ì½”ë“œê°€ ì™„ì„±ëë‹¤ëŠ” ê±¸ í™•ì‹ í•  ìˆ˜ ìˆì„ê¹Œ?

* (1) í†µí™”ê°€ ë‹¤ë¥¸ ë‘ ê¸ˆì•¡ì„ ë”í•´ì„œ ì£¼ì–´ì§„ í™˜ìœ¨ì— ë§ê²Œ ë³€í•œ ê¸ˆì•¡ì„ ê²°ê³¼ë¡œ ì–»ì„ ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.
* (2) ì–´ë–¤ ê¸ˆì•¡(ì£¼ê°€)ì„ ì–´ë–¤ ìˆ˜(ì£¼ì‹ì˜ ìˆ˜)ì— ê³±í•œ ê¸ˆì•¡ì„ ê²°ê³¼ë¡œ ì–»ì„ ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.
###### ğŸ’¡ í• ì¼ ëª©ë¡ì—ì„œ ì¢€ ë” ìˆ˜ì›”í•´ë³´ì´ëŠ” ê±¸ ë¨¼ì € ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

### âœ” í• ì¼ ëª©ë¡ì— ìˆëŠ” í•œ í•­ëª©ì— ëŒ€í•œ ì‘ì—… ì‹œì‘í•˜ê¸° (2ë²ˆ)
```java
public void testMultiplication() {
    Dollar five = new Dollar(5);
    five.times(2);
    assertEquals(10, five.amount);
}
```
###### ğŸ’¡ í˜„ì¬ ëª©í‘œëŠ” ìµœëŒ€í•œ ë¹¨ë¦¬ ì´ˆë¡ ë§‰ëŒ€ë¥¼ ë³´ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ë¬¸ì œë“¤ì€ ì¼ë‹¨ ë¬´ì‹œí•˜ì
    $5 + 10CHF = $10(í™˜ìœ¨ì´ 2:1ì¼ ê²½ìš°)
    $5 x 2 = $10
    amountë¥¼ privateìœ¼ë¡œ ë§Œë“¤ê¸°
    Dollar ë¶€ì‘ìš©(side effect)?
    Money ë°˜ì˜¬ë¦¼?
- ìœ„ì—ì„œ ì‘ì„±í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì»´íŒŒì¼ì¡°ì°¨ ë˜ì§€ ì•ŠëŠ”ë‹¤.
- ì‹¤í–‰ì€ ì•ˆ ë˜ë”ë¼ë„ ì»´íŒŒì¼ë§Œì´ë¼ë„ ë˜ê²Œ í•˜ê¸°ìœ„í•´ì„  ì–´ë–»ê²Œ í•´ì•¼í•˜ëŠ”ê°€?

### âœ” ì»´íŒŒì¼ë§Œì´ë¼ë„ ë˜ë„ë¡ ì»´íŒŒì¼ ì—ëŸ¬ë¥¼ í•´ê²°í•´ë³´ì
- Dollar í´ë˜ìŠ¤ê°€ ì—†ìŒ
- ìƒì„±ìê°€ ì—†ìŒ
- times(int) ë©”ì„œë“œê°€ ì—†ìŒ
- amount í•„ë“œê°€ ì—†ìŒ
```java
class Dollar {
    Dollar(int amount) {}
    void times(int multiplier) {}
    int amount;
}
```
- Dollar í´ë˜ìŠ¤ ì •ì˜
- ìƒì„±ì ë§Œë“¤ê¸°
- times()ì˜ ìŠ¤í… êµ¬í˜„
- amount í•„ë“œ ì¶”ê°€
> ì‹¤íŒ¨! expected:<10> but was:<0>

ğŸ‘‰ ì—¬ê¸°ì„œ í•  ìˆ˜ ìˆëŠ” ìµœì†Œ ì‘ì—…ì€ ë¬´ì—‡ì¼ê¹Œ? <br>
```java
int amount = 10;
```
> ì„±ê³µ! but ë‹¨ìˆœí•œ êµ¬í˜„ì„ í†µê³¼ì‹œì¼œì¤„ ë§Œí•œ ì…ë ¥ê°’ì€ ì •ë§ë¡œ ì°¾ê¸° í˜ë“¤ë‹¤. ê³„ì† ì§„í–‰í•˜ê¸° ì „ì— ì¼ë°˜í™”ë¥¼í•´ì•¼ í•œë‹¤.

### ğŸ“Œ í…ŒìŠ¤íŠ¸ ì£¼ê¸°
1. ì‘ì€ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ë‚˜ ì¶”ê°€í•œë‹¤.
2. ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•´ì„œ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•˜ëŠ” ê²ƒì„ í™•ì¸í•œë‹¤.
3. ì¡°ê¸ˆ ìˆ˜ì •í•œë‹¤.
4. ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•´ì„œ í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí•˜ëŠ” ê²ƒì„ í™•ì¸í•œë‹¤.
5. ì¤‘ë³µì„ ì œê±°í•˜ê¸° ìœ„í•´ ë¦¬íŒ©í† ë§ì„ í•œë‹¤.
> ì˜ì¡´ì„±ê³¼ ì¤‘ë³µ
> >ë§Œì•½ íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ ë²¤ë”ê°€ ì œê³µí•˜ëŠ” ì„¸ì„¸í•œ ê¸°ëŠ¥ë“¤ì„ ì—¬ê¸°ì €ê¸° ì‚¬ìš©í•˜ëŠ” ìƒí™©ì—ì„œ
> ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë‹¤ë¥¸ ë²¤ë”ë¡œ ë³€ê²½í•˜ê³ ì í•˜ë©´
> ì½”ë“œê°€ í•´ë‹¹ ë²¤ë”ì— ëŒ€í•´ ì˜ì¡´ì„±ì„ ê°–ëŠ”ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œê²Œ ë  ê²ƒì´ë‹¤. 
> ì´ëŠ” ì½”ë“œì˜ ë³€ê²½ì—†ì´ëŠ” ë²¤ë”ë¥¼ ë°”ê¿€ ìˆ˜ ì—†ìŒì„ ì˜ë¯¸í•œë‹¤. <br>
> ì˜ì¡´ì„±ì´ ë¬¸ì œ ê·¸ ìì²´ë¼ë©´ ì¤‘ë³µì€ ë¬¸ì œì˜ ì§•í›„ë‹¤. ì¤‘ë³µì˜ ê°€ì¥ í”í•œ ì˜ˆëŠ” ë™ì¼í•œ ë¬¸ì¥ì´ ì½”ë“œì˜ ì—¬ëŸ¬ ì¥ì†Œì— ë‚˜íƒ€ë‚˜ëŠ” ë¡œì§ì˜ ì¤‘ë³µì´ë‹¤.
> ì¤‘ë³µëœ ë¡œì§ì„ í•˜ë‚˜ë¡œ ë„ì§‘ì–´ë‚´ëŠ” ì¼ì—” ê°ì²´ë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì´ ìµœê³ ë‹¤. <br>
> ğŸ‘‰ í”„ë¡œê·¸ë¨ì—ì„œëŠ” ì¤‘ë³µë§Œ ì œê±°í•´ ì£¼ë©´ ì˜ì¡´ì„±ë„ ì œê±°ëœë‹¤. ë‹¤ìŒ í…ŒìŠ¤íŠ¸ë¡œ ì§„í–‰í•˜ê¸° ì „, ì¤‘ë³µì„ ì œê±°í•¨ìœ¼ë¡œì¨ ì˜¤ì§ í•œ ê°€ì§€(one and only one)ì˜
> ì½”ë“œ ìˆ˜ì •ì„ í†µí•´ ë‹¤ìŒ í…ŒìŠ¤íŠ¸ë„ í†µê³¼ë˜ê²Œ ë§Œë“¤ ê°€ëŠ¥ì„±ì„ ìµœëŒ€í™”í•˜ëŠ” ê²ƒì´ë‹¤.

### âœ” ì¤‘ë³µì„ ì œê±°í•´ë³´ì
* ì¤‘ë³µì´ í…ŒìŠ¤íŠ¸ì— ìˆëŠ” ë°ì´í„°ì™€ ì½”ë“œì— ìˆëŠ” ë°ì´í„° ì‚¬ì´ì— ì¡´ì¬í•œë‹¤. ì½”ë“œë¥¼ ì‚´ì§ ë°”ê¿”ë³´ì.
```java
int amount = 5 * 2;
```
* ì´ë ‡ê²Œ ë³´ë©´ í…ŒìŠ¤íŠ¸ì— ìˆëŠ” ë°ì´í„° (ìƒì„±ìì—ì„œ ë„˜ê²¨ì¤€ ê°’ : 5, times í•¨ìˆ˜ì— ë„˜ê²¨ì¤€ ê°’ : 2) ì™€ ì½”ë“œì— ìˆëŠ” ë°ì´í„° ( 5 * 2 ) ì‚¬ì´ì— ì¤‘ë³µì´ ìˆìŒì„ ì°¾ì„ ìˆ˜ ìˆë‹¤.
* í•œë²ˆì— ì œê±°í•  ìˆœ ì—†ë‹¤. ì‘ì€ ë‹¨ê³„ë¶€í„° ë°Ÿì•„ë³´ì
```java
int amount;

void times(int multiplier) {
    amount = 5 * 2;
}
```
* ì—¬ê¸°ì„œ ë˜ ìª¼ê°¤ ìˆ˜ ìˆì„ê¹Œ?
* 5ë¥¼ ì–´ë””ì„œ ì–»ì„ ìˆ˜ ìˆì„ê¹Œ? ìƒì„±ìì—ì„œ ì–»ì„ ìˆ˜ ìˆë‹¤!
```java
Dollar(int amount) {
    this.amount = amount;
}
```
* ì—¬ê¸°ì„œ ì–»ì€ 5ë¥¼ times()ì—ì„œ ì‚¬ìš©í•´ë³´ì
```java
void times(int multiplier) {
    amount = amount * 2;
}
```
* íŒŒë¼ë¯¸í„°ë¡œ ë„˜ì–´ ì˜¨ ì¸ì 'multiplier'ì˜ ê°’ì´ 2 ì´ë¯€ë¡œ ëŒ€ì²´í•´ì£¼ì
```java
void times(int multiplier) {
    amount = amount * multiplier;
}
```
* ìë°” ë¬¸ë²•ì„ ì™„ë²½í•˜ê²Œ ì•Œê³  ìˆë‹¤ëŠ” ê²ƒì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´ *= ì—°ì‚°ìë„ ì¨ë³´ì
```java
void times(int multiplier) {
    amount *= multiplier;
}
```
### âœ” ì™„ì„± ì½”ë“œ
```java
class Dollar {
    Dollar(int amount) {
        this.amount = amount;
    }
    int amount;
    void times(int multiplier) {
        amount *= multiplier;
    }
}
```
    $5 + 10CHF = $10(í™˜ìœ¨ì´ 2:1ì¼ ê²½ìš°)
    âœ… $5 x 2 = $10 (ì™„ë£Œ)
    amountë¥¼ privateìœ¼ë¡œ ë§Œë“¤ê¸°
    Dollar ë¶€ì‘ìš©(side effect)?
    Money ë°˜ì˜¬ë¦¼?

### âœ” ê²€í† 
- ìš°ë¦¬ê°€ ì•Œê³  ìˆëŠ” ì‘ì—…í•´ì•¼ í•  í…ŒìŠ¤íŠ¸ ëª©ë¡ì„ ë§Œë“¤ì—ˆë‹¤.
- ì˜¤í¼ë ˆì´ì…˜ì´ ì™¸ë¶€ì—ì„œ ì–´ë–»ê²Œ ë³´ì´ê¸¸ ì›í•˜ëŠ”ì§€ ë§í•´ì£¼ëŠ” ì´ì•¼ê¸°ë¥¼ ì½”ë“œë¡œ í‘œí˜„í–ˆë‹¤.
- Junitì— ëŒ€í•œ ìƒì„¸í•œ ì‚¬í•­ë“¤ì€ ì ì‹œ ë¬´ì‹œí•˜ê¸°ë¡œ í–ˆë‹¤.
- ìŠ¤í… êµ¬í˜„ì„ í†µí•´ í…ŒìŠ¤íŠ¸ë¥¼ ì»´íŒŒì¼í–ˆë‹¤.
- ë”ì°í•œ ì£„ì•…ì„ ë²”í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼ì‹œì¼°ë‹¤.
- ëŒì•„ê°€ëŠ” ì½”ë“œì—ì„œ ìƒìˆ˜ë¥¼ ë³€ìˆ˜ë¡œ ë³€ê²½í•˜ì—¬ ì ì§„ì ìœ¼ë¡œ ì¼ë°˜í™”í–ˆë‹¤.
- ìƒˆë¡œìš´ í• ì¼ë“¤ì„ í•œë²ˆì— ì²˜ë¦¬í•˜ëŠ” ëŒ€ì‹  í• ì¼ ëª©ë¡ì— ì¶”ê°€í•˜ê³  ë„˜ì–´ê°”ë‹¤.

## 1-2. íƒ€ë½í•œ ê°ì²´
### ì¼ë°˜ì ì¸ TDD ì£¼ê¸°
1. í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•œë‹¤.
   - ë§ˆìŒì†ì— ìˆëŠ” ì˜¤í¼ë ˆì´ì…˜ì´ ì½”ë“œì— ì–´ë–¤ ì‹ìœ¼ë¡œ ë‚˜íƒ€ë‚˜ê¸¸ ì›í•˜ëŠ”ì§€ ìƒê°í•´ë³´ë¼
   - ì›í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°œë°œí•˜ë¼
   - ì˜¬ë°”ë¥¸ ë‹µì„ ì–»ê¸° ìœ„í•´ í•„ìš”í•œ ì´ì•¼ê¸°ì˜ ëª¨ë“  ìš”ì†Œë¥¼ í¬í•¨ì‹œì¼œë¼
2. ì‹¤í–‰ê°€ëŠ¥í•˜ê²Œ ë§Œë“ ë‹¤.
   - ì œì¼ ì¤‘ìš”í•œ ê²ƒì€ ë¹¨ë¦¬ ì´ˆë¡ ë§‰ëŒ€ë¥¼ ë³´ëŠ” ê²ƒì´ë‹¤.
3. ì˜¬ë°”ë¥´ê²Œ ë§Œë“ ë‹¤.
   - ì´ì œ ì‹œìŠ¤í…œì´ ì‘ë™í•˜ë¯€ë¡œ ì§ì „ì— ì €ì§ˆë €ë˜ ì£„ì•…ì„ ìˆ˜ìŠµí•˜ì.
   - ì¤‘ë³µì„ ì œê±°í•˜ê³  ì´ˆë¡ ë§‰ëŒ€ë¡œ ë˜ëŒë¦¬ì.
    
### â— ìš°ë¦¬ì˜ ëª©ì ì€ ì‘ë™í•˜ëŠ” ê¹”ë”í•œ ì½”ë“œë¥¼ ì–»ëŠ” ê²ƒì´ë‹¤.
* ì¼ë‹¨ 'ì‘ë™í•˜ëŠ”'ì— í•´ë‹¹í•˜ëŠ” ë¶€ë¶„ì„ ë¨¼ì € í•´ê²°í•˜ë¼
* ê·¸ëŸ¬ê³  ë‚˜ì„œ 'ê¹”ë”í•œ ì½”ë“œ' ë¶€ë¶„ì„ í•´ê²°í•˜ëŠ” ê²ƒì´ë‹¤.

------

ë‚˜ë¨¸ì§€ í…ŒìŠ¤íŠ¸ë“¤ì„ í†µê³¼ì‹œì¼œë³´ì
* Dollar ë¶€ì‘ìš©? - Dollarì— ëŒ€í•´ ì—°ì‚°ì„ ìˆ˜í–‰í•œ í›„ì— í•´ë‹¹ Dollarì˜ ê°’ì´ ë°”ë€ŒëŠ” ë¬¸ì œì 


```java
public void testMultiplication() {
        Dollar five = new Dollar(5);
        five.times(2);
        assertEquals(10, five.amount);
        five.times(3);
        assertEquals(15, five.amount);
}
```
* times()ì—ì„œ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë°˜í™˜í•˜ê²Œ ë§Œë“¤ë©´?
```java
public void testMultiplication() {
        Dollar five = new Dollar(5);
        Dollar product = five.times(2);
        assertEquals(10, product.amount);
        product = five.times(3);
        assertEquals(15, product.amount);
}
```
* ì»´íŒŒì¼ ì—ëŸ¬ë¥¼ í•´ê²°í•´ë³´ì
```java
Dollar times(int multiplier) {
        amount *= multiplier;
        return null;
}
```
* ì»´íŒŒì¼ì€ ë˜ì§€ë§Œ ì‹¤í–‰ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. ì˜¬ë°”ë¥¸ ê¸ˆì•¡ì„ ê°–ëŠ” ìƒˆ Dollarë¥¼ ë°˜í™˜í•˜ì
```java
Dollar times(int multiplier) {
        return new Dollar(amount * multiplier);
}
```

### âœ” ìµœëŒ€í•œ ë¹¨ë¦¬ ì´ˆë¡ìƒ‰ì„ ë³´ê¸° ìœ„í•´ ì·¨í•  ìˆ˜ ìˆëŠ” ì „ëµ
* ê°€ì§œë¡œ êµ¬í˜„í•˜ê¸° : ìƒìˆ˜ë¥¼ ë°˜í™˜í•˜ê²Œ ë§Œë“¤ê³  ì§„ì§œ ì½”ë“œë¥¼ ì–»ì„ ë•Œê¹Œì§€ ë‹¨ê³„ì ìœ¼ë¡œ ìƒìˆ˜ë¥¼ ë³€ìˆ˜ë¡œ ë°”ê¾¸ì–´ ê°„ë‹¤.
* ëª…ë°±í•œ êµ¬í˜„ ì‚¬ìš©í•˜ê¸° : ì‹¤ì œ êµ¬í˜„ì„ ì…ë ¥í•œë‹¤.

ğŸ’¡ ëª¨ë“  ì¼ì´ ì˜ ì§„í–‰ë˜ê³  ë­˜ ì…ë ¥í•´ì•¼ í• ì§€ ì•Œ ë•ŒëŠ” ëª…ë°±í•œ êµ¬í˜„ì„ ê³„ì† ë”í•´ ë‚˜ê°€ë‹¤ê°€ 
ì˜ˆìƒì¹˜ ëª»í•œ ë¹¨ê°„ ë§‰ëŒ€ë¥¼ ë§Œë‚˜ê²Œ ë˜ë©´ ê°€ì§œë¡œ êµ¬í˜„í•˜ê¸° ë°©ë²•ì„ ì‚¬ìš©í•˜ë©° ì˜¬ë°”ë¥¸ ì½”ë“œë¡œ ë¦¬íŒ©í† ë§í•œë‹¤.
ê·¸ëŸ¬ë‹¤ ë‹¤ì‹œ ìì‹ ê°ì„ ì°¾ìœ¼ë©´ ëª…ë°±í•œ êµ¬í˜„ ì‚¬ìš©í•˜ê¸° ëª¨ë“œë¡œ ëŒì•„ì˜¨ë‹¤.

    $5 + 10CHF = $10(í™˜ìœ¨ì´ 2:1ì¼ ê²½ìš°)
    âœ… $5 x 2 = $10 (ì™„ë£Œ)
    amountë¥¼ privateìœ¼ë¡œ ë§Œë“¤ê¸°
    âœ… Dollar ë¶€ì‘ìš©(side effect)?
    Money ë°˜ì˜¬ë¦¼?


### âœ” ê²€í† 
- ì„¤ê³„ìƒì˜ ê²°í•¨(Dollar ë¶€ì‘ìš©)ì„ ê·¸ ê²°í•¨ìœ¼ë¡œ ì¸í•´ ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¡œ ë³€í™˜í–ˆë‹¤.
- ìŠ¤í… êµ¬í˜„ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì»´íŒŒì¼ì„ í†µê³¼í•˜ë„ë¡ ë§Œë“¤ì—ˆë‹¤.
- ì˜¬ë°”ë¥´ë‹¤ê³  ìƒê°í•˜ëŠ” ì½”ë“œë¥¼ ì…ë ¥í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í–ˆë‹¤.


## 1-3. ëª¨ë‘ë¥¼ ìœ„í•œ í‰ë“±
#### ê°’ ê°ì²´ íŒ¨í„´ (value object pattern)
- ì§€ê¸ˆì˜ Dollar ê°ì²´ê°™ì´ ê°ì²´ë¥¼ ê°’ì²˜ëŸ¼ ì“¸ ìˆ˜ ìˆëŠ” ê²ƒ.
- ê°’ ê°ì²´ì— ëŒ€í•œ ì œì•½ì‚¬í•­ - ê°ì²´ì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ê°€ ìƒì„±ìë¥¼ í†µí•´ì„œ ì¼ë‹¨ ì„¤ì •ëœ í›„ì—ëŠ” ê²°ì½” ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤.
- ê°’ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ë©´ ë³„ì¹­ ë¬¸ì œì— ëŒ€í•´ ê±±ì •í•  í•„ìš”ê°€ ì—†ë‹¤.
- $5ê°€ ìˆì„ ë•Œ ê·¸ ê²ƒì´ ì˜ì›íˆ $5ì„ì„ ë³´ì¥ ë°›ì„ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.
#### ê°’ ê°ì²´ê°€ ì•”ì‹œí•˜ëŠ” ê²ƒ
- ëª¨ë“  ì—°ì‚°ì€ ìƒˆ ê°ì²´ë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤.
- ê°’ ê°ì²´ëŠ” equals()ë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤. (why? $5ë¼ëŠ” ê²ƒì€ í•­ìƒ ë‹¤ë¥¸ $5ë§Œí¼ì´ë‚˜ ë˜‘ê°™ì´ ì¢‹ì€ ê²ƒì´ê¸° ë•Œë¬¸ì´ë‹¤.)
#### í•  ì¼ ëª©ë¡ update!
    $5 + 10CHF = $10(í™˜ìœ¨ì´ 2:1ì¼ ê²½ìš°)
    âœ… $5 x 2 = $10 (ì™„ë£Œ)
    amountë¥¼ privateìœ¼ë¡œ ë§Œë“¤ê¸°
    âœ… Dollar ë¶€ì‘ìš©(side effect)?
    Money ë°˜ì˜¬ë¦¼?
    equals()
    hashCode()
ğŸ’¡ ë§Œì•½ Dollarë¥¼ í•´ì‹œ í…Œì´ë¸”ì˜ í‚¤ë¡œ ì“¸ ìƒê°ì´ë¼ë©´ equals()ë¥¼ êµ¬í˜„í•  ë•Œì— hashCode()ë¥¼ ê°™ì´ êµ¬í˜„í•´ì•¼ í•œë‹¤. ì¼ë‹¨ í• ì¼ ëª©ë¡ì— ì ì–´ë‘ê³  ë¬¸ì œê°€ ìƒê¸°ë©´ ë‹¤ë£¨ì.

### âœ” equals()
```java
public void testEquality() {
        assertTrue(new Dollar(5).equals(new Dollar(5)));
}
```
- ë¹¨ê°„ ë§‰ëŒ€ë‹¤.. Dollar classì— ê°€ì§œë¡œ êµ¬í˜„í•´ë³´ì
```java
public boolean equals(Object object) {
        return true;
}
``` 
### ì‚¼ê°ì¸¡ëŸ‰
- ë§Œì•½ ë¼ë””ì˜¤ ì‹ í˜¸ë¥¼ ë‘ ìˆ˜ì‹ êµ­ì´ ê°ì§€í•˜ê³  ìˆì„ ë•Œ, ìˆ˜ì‹ êµ­ ì‚¬ì´ì˜ ê±°ë¦¬ì™€ ê° ìˆ˜ì‹ êµ­ì´ ì‹ í˜¸ì˜ ë°©í–¥ì„ ì•Œê³  ìˆë‹¤ë©´,
ì´ ì •ë³´ë“¤ì„ í†µí•´ ì‹ í˜¸ì˜ ê±°ë¦¬ì™€ ë°©ìœ„ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ê³„ì‚°ë²•ì„ ì‚¼ê°ì¸¡ëŸ‰ì´ë¼ í•œë‹¤.
  
ì‚¼ê°ì¸¡ëŸ‰ì„ ì´ìš©í•˜ë ¤ë©´ ì˜ˆì œê°€ ë‘ ê°œ ì´ìƒ ìˆì–´ì•¼ í•¨. í…ŒìŠ¤íŠ¸ ì½”ë“œì™€ ëª¨ë¸ ì½”ë“œ ì‚¬ì´ì˜ ì¤‘ë³µì„ ì ê¹ ë¬´ì‹œí•œë‹¤.
### $5 != $6
```java
public void testEquality() {
        assertTrue(new Dollar(5).equals(new Dollar(5)));
        assertFalse(new Dollar(5).equals(new Dollar(6)));
}
```
- ë™ì¹˜ì„±(equality) ì¼ë°˜í™”
```java
public boolean equals(Object object) {
        Dollar dollar = (Dollar) object;
        return amount == dollar.amount;
}
```
ğŸ’¡ ë™ì¼ì„± ë¬¸ì œëŠ” ì¼ì‹œì ìœ¼ë¡œ í•´ê²°ë˜ì—ˆë‹¤. í•˜ì§€ë§Œ ë„ ê°’ì´ë‚˜ ë‹¤ë¥¸ ê°ì²´ë“¤ê³¼ ë¹„êµí•œë‹¤ë©´..? <br>
ì´ëŸ° ìƒí™©ì€ ì¼ë°˜ì ì´ì§€ë§Œ ë‹¹ì¥ì€ í•„ìš”í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— í• ì¼ ëª©ë¡ì— ì ì–´ë‘ì

      $5 + 10CHF = $10(í™˜ìœ¨ì´ 2:1ì¼ ê²½ìš°)
      âœ… $5 x 2 = $10 (ì™„ë£Œ)
      amountë¥¼ privateìœ¼ë¡œ ë§Œë“¤ê¸°
      âœ… Dollar ë¶€ì‘ìš©(side effect)?
      Money ë°˜ì˜¬ë¦¼?
      âœ… equals()
      hashCode()
      Equal null
      Equal object

### âœ” ê²€í† 
- ë””ìì¸ íŒ¨í„´ì´ í•˜ë‚˜ì˜ ë˜ ë‹¤ë¥¸ ì˜¤í¼ë ˆì´ì…˜ì„ ì•”ì‹œí•œë‹¤ëŠ” ê±¸ ì•Œì•„ì±˜ë‹¤.
- í•´ë‹¹ ì˜¤í¼ë ˆì´ì…˜ì„ í…ŒìŠ¤íŠ¸í–ˆë‹¤.
- í•´ë‹¹ ì˜¤í¼ë ˆì´ì…˜ì„ ê°„ë‹¨íˆ êµ¬í˜„í–ˆë‹¤.
- ê³§ì¥ ë¦¬íŒ©í† ë§í•˜ëŠ” ëŒ€ì‹  í…ŒìŠ¤íŠ¸ë¥¼ ì¡°ê¸ˆ ë” í–ˆë‹¤.
- ë‘ ê²½ìš°ë¥¼ ëª¨ë‘ ìˆ˜ìš©í•  ìˆ˜ ìˆë„ë¡ ë¦¬íŒ©í† ë§í–ˆë‹¤.

## 1-4. í”„ë¼ì´ë²„ì‹œ
- ê°œë…ì ìœ¼ë¡œ Dollar.times() ì—°ì‚°ì€ í˜¸ì¶œì„ ë°›ì€ ê°ì²´ì˜ ê°’ì— ì¸ìë¡œ ë°›ì€ ê³±ìˆ˜ë§Œí¼ ê³±í•œ ê°’ì„ ê°–ëŠ” Dollarë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤.
- í•˜ì§€ë§Œ í•´ë‹¹ í…ŒìŠ¤íŠ¸ê°€ ì •í™•íˆ ê·¸ê²ƒì„ ë§í•˜ì§„ ì•ŠëŠ”ë‹¤.
```java
public void testMultiplication() {
        Dollar five = new Dollar(5);
        Dollar product = five.times(2);
        assertEquals(10, product.amount);
        product = five.times(3);
        assertEquals(15, product.amount);
}
```
- ì²« ë²ˆì§¸ ë‹¨ì–¸(assertion)ì„ Dollarì™€ Dollarë¥¼ ë¹„êµí•˜ëŠ” ê²ƒìœ¼ë¡œ ì¬ì‘ì„±í•  ìˆ˜ ìˆë‹¤.
```java
public void testMultiplication() {
        Dollar five = new Dollar(5);
        Dollar product = five.times(2);
        assertEquals(new Dollar(10), product);
        product = five.times(3);
        assertEquals(new Dollar(15), product);
}
```
- ì´ì œ product ë³€ìˆ˜ëŠ” ì“¸ëª¨ì—†ê¸° ë•Œë¬¸ì— ì¸ë¼ì¸ì‹œì¼œë³´ì.
```java
public void testMultiplication() {
        Dollar five = new Dollar(5);
        assertEquals(new Dollar(10), five.times(2));
        assertEquals(new Dollar(15), five.times(3));
}
```
- ì´ í…ŒìŠ¤íŠ¸ëŠ” ì¼ë ¨ì˜ ì˜¤í¼ë ˆì´ì…˜ì´ ì•„ë‹ˆë¼ ì°¸ì¸ ëª…ì œì— ëŒ€í•œ ë‹¨ì–¸ë“¤ì´ë¯€ë¡œ ìš°ë¦¬ì˜ ì˜ë„ë¥¼ ë” ëª…í™•í•˜ê²Œ ì´ì•¼ê¸°í•´ì¤€ë‹¤.
- ì´ì œ Dollarì˜ amount ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ì½”ë“œëŠ” Dollar ìì‹ ë°–ì— ì—†ê¸° ë•Œë¬¸ì— privateìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.
```java
private int amount;
```

      $5 + 10CHF = $10(í™˜ìœ¨ì´ 2:1ì¼ ê²½ìš°)
      âœ… $5 x 2 = $10 (ì™„ë£Œ)
      âœ… amountë¥¼ privateìœ¼ë¡œ ë§Œë“¤ê¸°
      âœ… Dollar ë¶€ì‘ìš©(side effect)?
      Money ë°˜ì˜¬ë¦¼?
      âœ… equals()
      hashCode()
      Equal null
      Equal object

### âœ” ê²€í† 
- ì˜¤ì§ í…ŒìŠ¤íŠ¸ë¥¼ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´ì„œë§Œ ê°œë°œëœ ê¸°ëŠ¥ì„ ì‚¬ìš©í–ˆë‹¤.
- ë‘ í…ŒìŠ¤íŠ¸ê°€ ë™ì‹œì— ì‹¤íŒ¨í•˜ë©´ ë§í•œë‹¤ëŠ” ì ì„ ì¸ì‹í–ˆë‹¤.
- ìœ„í—˜ ìš”ì†Œê°€ ìˆìŒì—ë„ ê³„ì† ì§„í–‰í–ˆë‹¤.
- í…ŒìŠ¤íŠ¸ì™€ ì½”ë“œ ì‚¬ì´ì˜ ê²°í•©ë„ë¥¼ ë‚®ì¶”ê¸° ìœ„í•´, í…ŒìŠ¤íŠ¸í•˜ëŠ” ê°ì²´ì˜ ìƒˆê¸°ëŠ¥ì„ ì‚¬ìš©í–ˆë‹¤.

## 1-5. ì†”ì§íˆ ë§í•˜ìë©´

### âœ” $5 + 10CHF = $10(í™˜ìœ¨ì´ 2:1ì¼ ê²½ìš°)
- í•´ë‹¹ í…ŒìŠ¤íŠ¸ì— ì–´ë–¤ ì‹ìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ” ê²Œ ì¢‹ì„ê¹Œ?
- Dollar ê°ì²´ì™€ ë¹„ìŠ·í•˜ì§€ë§Œ ë‹¬ëŸ¬ ëŒ€ì‹  í”„ë‘(Franc)ì„ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ê°ì²´ê°€ í•„ìš”í•  ê²ƒ ê°™ë‹¤.
- Dollar í…ŒìŠ¤íŠ¸ë¥¼ ë³µì‚¬ í›„ ìˆ˜ì •í•˜ì.
```java
public void testFrancMultiplication() {
        Franc five = new Franc(5);
        assertEquals(new Franc(10), five.times(2));
        assertEquals(new Franc(15), five.times(3));
}
```
- ì˜ˆìƒëŒ€ë¡œ ë¹¨ê°„ ë§‰ëŒ€ë‹¤. Dollar ì½”ë“œë¥¼ ë³µì‚¬í•´ì„œ Francìœ¼ë¡œ ë°”ê¿”ë³´ì
```java
class Franc {
    Franc(int amount) {
        this.amount = amount;
    }
    private int amount;
    Franc times(int multiplier) {
        return new Franc(amount * multiplier);
    }

    public boolean equals(Object object) {
        Franc franc = (Franc) object;
        return amount == franc.amount;
    }

}
```
      $5 + 10CHF = $10(í™˜ìœ¨ì´ 2:1ì¼ ê²½ìš°)
      âœ… $5 x 2 = $10 (ì™„ë£Œ)
      âœ… amountë¥¼ privateìœ¼ë¡œ ë§Œë“¤ê¸°
      âœ… Dollar ë¶€ì‘ìš©(side effect)?
      Money ë°˜ì˜¬ë¦¼?
      âœ… equals()
      hashCode()
      Equal null
      Equal object
      âœ… 5GHF x 2 = 10GHF
      Dollar/Franc ì¤‘ë³µ
      ê³µìš© equals
      ê³µìš© times

- ìœ„ ì½”ë“œëŠ” ì¤‘ë³µì´ ì—„ì²­ë‚˜ê²Œ ë§ê¸° ë•Œë¬¸ì— ë‹¤ìŒ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ê¸° ì „ì— ì œê±°í•´ì•¼ í•œë‹¤.
- equals()ë¥¼ ì¼ë°˜í™”í•˜ëŠ” ê²ƒë¶€í„° ì‹œì‘í•˜ì.

### âœ” ê²€í† 
- í° í…ŒìŠ¤íŠ¸ë¥¼ ê³µëµí•  ìˆ˜ ì—†ë‹¤. ê·¸ë˜ì„œ ì§„ì „ì„ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆëŠ” ìê·¸ë§ˆí•œ í…ŒìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì—ˆë‹¤.
- ë»”ë»”ìŠ¤ëŸ½ê²Œë„ ì¤‘ë³µì„ ë§Œë“¤ê³  ì¡°ê¸ˆ ê³ ì³ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í–ˆë‹¤.
- ì„¤ìƒê°€ìƒìœ¼ë¡œ ëª¨ë¸ ì½”ë“œê¹Œì§€ ë„ë§¤ê¸ˆìœ¼ë¡œ ë³µì‚¬í•˜ê³  ìˆ˜ì •í•´ì„œ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í–ˆë‹¤.
- ì¤‘ë³µì´ ì‚¬ë¼ì§€ê¸° ì „ì—ëŠ” ì§‘ì— ê°€ì§€ ì•Šê² ë‹¤ê³  ì•½ì†í–ˆë‹¤.

## 1-6. ëŒì•„ì˜¨ 'ëª¨ë‘ë¥¼ ìœ„í•œ í‰ë“±'
- ì•ì„œ 5ì¥ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ë¹¨ë¦¬ í†µê³¼í•˜ê¸° ìœ„í•´ ì½”ë“œë¥¼ ë³µë¶™í•˜ëŠ” ì—„ì²­ë‚œ ì£„ë¥¼ ì €ì§ˆë €ë‹¤.
- ì´ì œëŠ” ì²­ì†Œí•  ì‹œê°„ì´ë‹¤.
- ì²­ì†Œì˜ ë°©ë²•ì€ ë‘ í´ë˜ìŠ¤ì˜ ê³µí†µ ìƒìœ„ í´ë˜ìŠ¤ë¥¼ ì°¾ì•„ë‚´ëŠ” ê²ƒì´ë‹¤.
- ë‘ í´ë˜ìŠ¤ì˜ ìƒìœ„ í´ë˜ìŠ¤ (Money class)ë¥¼ ë§Œë“¤ì–´ë³´ì
```java
class Money {}
```
- Dollarê°€ Moneyë¥¼ ìƒì†
```java
class Dollar extends Money {
    private int amount;
}
```
- ì´ì œ amount ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ Moneyë¡œ ì˜®ê¸¸ ìˆ˜ ìˆë‹¤.
```java
class Money {
    protected int amount;
}

class Dollar extends Money {
}
```
- í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œë„ ë³€ìˆ˜ë¥¼ ë³¼ ìˆ˜ ìˆë„ë¡ ê°€ì‹œì„±ì„ privateì—ì„œ protectedë¡œ ë³€ê²½í–ˆë‹¤.
- ì´ì œ equals() ì½”ë“œë¥¼ ìœ„ë¡œ ì˜¬ë¦¬ëŠ” ì¼ì„ í•  ìˆ˜ ìˆê²Œ ëë‹¤. ì„ì‹œë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ëŠ” ë¶€ë¶„ì„ ë³€ê²½í•˜ì.
```java
public boolean equals(Object object) {
        Money dollar = (Dollar) object;
        return amount == dollar.amount;
}
```
- ì´ì œ ìºìŠ¤íŠ¸ ë¶€ë¶„ ë³€ê²½
```java
public boolean equals(Object object) {
        Money dollar = (Money) object;
        return amount == dollar.amount;
}
```
- ì›í™œí•œ ì˜ì‚¬ì†Œí†µì„ ìœ„í•´ ì„ì‹œ ë³€ìˆ˜ì˜ ì´ë¦„ì„ ë³€ê²½í•˜ì.
```java
public boolean equals(Object object) {
        Money money = (Money) object;
        return amount == money.amount;
}
```
- ì´ì œ ì´ ë©”ì„œë“œë¥¼ Dollarì—ì„œ Moneyë¡œ ì˜®ê¸¸ ìˆ˜ ìˆë‹¤.
```java
class Money {
    protected int amount;

    public boolean equals(Object object) {
        Money money = (Money) object;
        return amount == money.amount;
    }
}
```
### âœ” Franc.equals() ì œê±°í•˜ê¸°
- ë™ì¹˜ì„± í…ŒìŠ¤íŠ¸ê°€ Francë¼ë¦¬ì˜ ë¹„êµì— ëŒ€í•´ì„œëŠ” ë‹¤ë£¨ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì ì— ì£¼ëª©.
- ì½”ë“œë¥¼ ë³€ê²½í•˜ê¸° ì „ì— ì• ì´ˆì— ê·¸ê³³ì— ìˆì–´ì•¼ í–ˆë˜ ì½”ë“œë¥¼ ì‘ì„±í•  ê²ƒ.
- ì¼ë‹¨ Dollar í…ŒìŠ¤íŠ¸ë¥¼ ë³µì‚¬í•œë‹¤.
```java
public void testEquality() {
        assertTrue(new Dollar(5).equals(new Dollar(5)));
        assertFalse(new Dollar(5).equals(new Dollar(6)));
        assertTrue(new Franc(5).equals(new Franc(5)));
        assertFalse(new Franc(5).equals(new Franc(6)));
}
```
- ë˜ ì¤‘ë³µ!!
- Franc í´ë˜ìŠ¤ë„ Moneyë¥¼ ìƒì†ë„ë¡ í•œë‹¤.
```java
class Franc extends Money {
}
```
- Franc.equals()ëŠ” Money.equals()ì™€ ê±°ì˜ ë¹„ìŠ·í•˜ë‹¤.
- ì´ ë‘ ë¶€ë¶„ì„ ì™„ì „íˆ ë˜‘ê°™ì´ ë§Œë“¤ ìˆ˜ ìˆë‹¤ë©´ í”„ë¡œê·¸ë¨ì˜ ì˜ë¯¸ë¥¼ ë³€í™”ì‹œí‚¤ì§€ ì•Šê³ ë„ Francì˜ equals()ë¥¼ ì§€ì›Œë²„ë¦´ ìˆ˜ ìˆê²Œ ëœë‹¤.
- ìš°ì„  ì„ì‹œ ë³€ìˆ˜ì˜ ì„ ì–¸ ë¶€ë¶„ì„ ê³ ì¹œë‹¤.
```java
public boolean equals(Object object) {
        Money franc = (Franc) object;
        return amount == franc.amount;
}
```
- ìºìŠ¤íŠ¸ ë¶€ë¶„ì„ ìˆ˜ì •í•œë‹¤.
```java
public boolean equals(Object object) {
        Money franc = (Money) object;
        return amount == franc.amount;
}
```
- ì„ì‹œ ë³€ìˆ˜ì˜ ì´ë¦„ë„ ìƒìœ„ í´ë˜ìŠ¤ì— ë§ê²Œ ê³ ì³ë³´ì
```java
public boolean equals(Object object) {
        Money money = (Money) object;
        return amount == money.amount;
}
```

      $5 + 10CHF = $10(í™˜ìœ¨ì´ 2:1ì¼ ê²½ìš°)
      âœ… $5 x 2 = $10 (ì™„ë£Œ)
      âœ… amountë¥¼ privateìœ¼ë¡œ ë§Œë“¤ê¸°
      âœ… Dollar ë¶€ì‘ìš©(side effect)?
      Money ë°˜ì˜¬ë¦¼?
      âœ… equals()
      hashCode()
      Equal null
      Equal object
      âœ… 5GHF x 2 = 10GHF
      Dollar/Franc ì¤‘ë³µ
      âœ… ê³µìš© equals
      ê³µìš© times
      Francê³¼ Dollar ë¹„êµí•˜ê¸°
- Francê³¼ Dollarë¥¼ ë¹„êµí•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ..?

### âœ” ê²€í† 
- ê³µí†µëœ ì½”ë“œë¥¼ ì²« ë²ˆì§¸ í´ë˜ìŠ¤(Dollar)ì—ì„œ ìƒìœ„ í´ë˜ìŠ¤(Money)ë¡œ ë‹¨ê³„ì ìœ¼ë¡œ ì˜®ê²¼ë‹¤.
- ë‘ ë²ˆì§¸ í´ë˜ìŠ¤(Franc)ë„ Moneyì˜ í•˜ìœ„ í´ë˜ìŠ¤ë¡œ ë§Œë“¤ì—ˆë‹¤.
- ë¶ˆí•„ìš”í•œ êµ¬í˜„ì„ ì œê±°í•˜ê¸° ì „ì— ë‘ equals() êµ¬í˜„ì„ ì¼ì¹˜ì‹œì¼°ë‹¤.

## 1-7. ì‚¬ê³¼ì™€ ì˜¤ë Œì§€
- Francê³¼ Dollarë¥¼ ë¹„êµí•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ?
```java
public void testEquality() {
        assertTrue(new Dollar(5).equals(new Dollar(5)));
        assertFalse(new Dollar(5).equals(new Dollar(6)));
        assertTrue(new Franc(5).equals(new Franc(5)));
        assertFalse(new Franc(5).equals(new Franc(6)));
        assertFalse(new Franc(5).equals(new Dollar(5)));
}
```
- ì‹¤íŒ¨ë‹¤. Dollar == Franc
- ë™ì¹˜ì„± ì½”ë“œì—ì„œëŠ” Dollarê°€ Francê³¼ ë¹„êµë˜ì§€ ì•ŠëŠ”ì§€ ê²€ì‚¬í•´ì•¼ í•œë‹¤.
- ë‘ ê°ì²´ì˜ í´ë˜ìŠ¤ë¥¼ ë¹„êµí•´ì„œ ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•´ë³´ì.
- ì˜¤ì§ ê¸ˆì•¡ê³¼ í´ë˜ìŠ¤ê°€ ì„œë¡œ ë™ì¼í•  ë•Œë§Œ ë‘ Moneyê°€ ì„œë¡œ ê°™ì€ ê²ƒì´ë‹¤.

```java
Money
public boolean equals(Object object) {
        Money money = (Money) object;
        return amount == money.amount && getClass().equals(money.getClass());
}
```
      $5 + 10CHF = $10(í™˜ìœ¨ì´ 2:1ì¼ ê²½ìš°)
      âœ… $5 x 2 = $10 (ì™„ë£Œ)
      âœ… amountë¥¼ privateìœ¼ë¡œ ë§Œë“¤ê¸°
      âœ… Dollar ë¶€ì‘ìš©(side effect)?
      Money ë°˜ì˜¬ë¦¼?
      âœ… equals()
      hashCode()
      Equal null
      Equal object
      âœ… 5GHF x 2 = 10GHF
      Dollar/Franc ì¤‘ë³µ
      âœ… ê³µìš© equals
      ê³µìš© times
      âœ… Francê³¼ Dollar ë¹„êµí•˜ê¸°
      í†µí™”?

### âœ” ê²€í† 
- ê²°í•¨ì„ ë„ì§‘ì–´ë‚´ì„œ í…ŒìŠ¤íŠ¸ì— ë‹´ì•„ëƒˆë‹¤(equlas ê²°í•¨).
- (getClass())ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ê²Œ í–ˆë‹¤.
- ë” ë§ì€ ë™ê¸°ê°€ ìˆê¸° ì „ì—ëŠ” ë” ë§ì€ ì„¤ê³„ë¥¼ ë„ì…í•˜ì§€ ì•Šê¸°ë¡œ í–ˆë‹¤.

## 1-8. ê°ì²´ ë§Œë“¤ê¸°
- ë‘ times() êµ¬í˜„ ì½”ë“œê°€ ë˜‘ê°™ë‹¤

```java
Franc
Franc times(int multiplier) {
        return new Franc(amount * multiplier);
}
```

```java
Dollar
Dollar times(int multiplier) {
        return new Dollar(amount * multiplier);
}
```
- ì–‘ìª½ ëª¨ë‘ Moneyë¥¼ ë°˜í™˜í•˜ê²Œ ë§Œë“¤ë©´ ë” ë¹„ìŠ·í•˜ë‹¤
```java
Franc
Money times(int multiplier) {
        return new Franc(amount * multiplier);
}
```
```java
Dollar
Money times(int multiplier) {
        return new Dollar(amount * multiplier);
}
```
- Moneyì˜ ë‘ í•˜ìœ„ í´ë˜ìŠ¤ëŠ” ê·¸ë‹¤ì§€ ë§ì€ ì¼ì„ í•˜ê³  ìˆëŠ” ê²ƒ ê°™ì§€ëŠ” ì•Šì•„ ì œê±°í•´ë²„ë¦¬ê³  ì‹¶ë‹¤.
- í•œë²ˆì— ì œê±°í•´ë²„ë¦¬ëŠ” ê±´, TDDë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ë³´ì—¬ì£¼ê¸°ì— ì ì ˆí•œ ë°©ë²•ì€ ì•„ë‹Œ ê²ƒ ê°™ë‹¤.
- í•˜ìœ„ í´ë˜ìŠ¤ì— ëŒ€í•œ ì§ì ‘ì ì¸ ì°¸ì¡°ê°€ ì ì–´ì§€ë„ë¡ í•´ë³´ì.
- Moneyì— Dollarë¥¼ ë°˜í™˜í•˜ëŠ” íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ ë„ì…í•´ë³´ì!
```java
public void testMultiplication() {
        Dollar five = Money.dollar(5);
        assertEquals(new Dollar(10), five.times(2));
        assertEquals(new Dollar(15), five.times(3));
}
```
- êµ¬í˜„ ì½”ë“œëŠ” Dollarë¥¼ ìƒì„±í•˜ì—¬ ë°˜í™˜í•œë‹¤.
```java
Money
static Dollar dollar(int amount) {
        return new Dollar(amount);
}
```
- Dollarì— ëŒ€í•œ ì°¸ì¡°ê°€ ì‚¬ë¼ì§€ê¸¸ ë°”ë¼ë¯€ë¡œ í…ŒìŠ¤íŠ¸ì˜ ì„ ì–¸ë¶€ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë°”ê¿”ì•¼í•œë‹¤.
```java
public void testMultiplication() {
    Money five = Money.dollar(5);
    assertEquals(new Dollar(10), five.times(2));
    assertEquals(new Dollar(15), five.times(3));
}
```
- ì»´íŒŒì¼ëŸ¬ê°€ Moneyì—ëŠ” times()ê°€ ì •ì˜ë˜ì–´ìˆì§€ ì•Šë‹¤ê³  í•œë‹¤.
- Moneyì— times() ë©”ì„œë“œë¥¼ êµ¬í˜„í•  ì¤€ë¹„ê°€ ë˜ì–´ìˆì§€ ì•Šê¸° ë•Œë¬¸ì— ì¼ë‹¨ì€
- Moneyë¥¼ ì¶”ìƒ í´ë˜ìŠ¤ë¡œ ì •ì˜í•´ë³´ì
```java
abstract class Money {
    
    abstract Money times(int multiplier);
    
    protected int amount;

    public boolean equals(Object object) {
        Money money = (Money) object;
        return amount == money.amount && getClass().equals(money.getClass());
    }

    static Dollar dollar(int amount) {
        return new Dollar(amount);
    }
}
```
- ì´ì œ íŒ©í† ë¦¬ ë©”ì„œë“œì˜ ì„ ì–¸ì„ ë°”ê¾¼ë‹¤.
```java
static Money dollar(int amount) {
    return new Dollar(amount);
}
```
- ì´ì œ íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ë‚˜ë¨¸ì§€ ëª¨ë“  ê³³ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
```java
public void testMultiplication() {
        Money five = Money.dollar(5);
        assertEquals(Money.dollar(10), five.times(2));
        assertEquals(Money.dollar(15), five.times(3));
}
```
```java
public void testEquality() {
        assertTrue(Money.dollar(5).equals(Money.dollar(5)));
        assertFalse(Money.dollar(5).equals(Money.dollar(5)));
        assertTrue(new Franc(5).equals(new Franc(5)));
        assertFalse(new Franc(5).equals(new Franc(6)));
        assertFalse(new Franc(5).equals(Money.dollar(5)));
}
```
- ì´ì œ Dollarë¼ëŠ” í•˜ìœ„ í´ë˜ìŠ¤ê°€ ìˆë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œì§€ ëª»í•œë‹¤.
- í•˜ìœ„ í´ë˜ìŠ¤ì˜ ì¡´ì¬ë¥¼ í…ŒìŠ¤íŠ¸ì—ì„œ ë¶„ë¦¬í•¨ìœ¼ë¡œì¨ ì–´ë–¤ ëª¨ë¸ ì½”ë“œì—ë„ ì˜í–¥ì„ ì£¼ì§€ ì•Šê³  ìƒì† êµ¬ì¡°ë¥¼ ë§ˆìŒëŒ€ë¡œ ë³€ê²½í•  ìˆ˜ ìˆê²Œ ëë‹¤.
<br>
  
- testFrancMultiplicationì„ ë³€ê²½í•˜ë ¤ê³  ë³´ë‹ˆ ì´ í…ŒìŠ¤íŠ¸ê°€ ê²€ì‚¬í•˜ëŠ” ë¡œì§ ì¤‘ Dollar ê³±í•˜ê¸° 
í…ŒìŠ¤íŠ¸ì— ì˜í•´ ê²€ì‚¬ë˜ì§€ ì•ŠëŠ” ë¶€ë¶„ì´ ì—†ë‹¤..
  
- ì´ í…ŒìŠ¤íŠ¸ë¥¼ ì‚­ì œí•œë‹¤ë©´ ì½”ë“œì— ëŒ€í•œ í™•ì‹ ì´ ì¤„ì–´ë“¤ê¹Œ?..
- ê·¸ëŸ´ ê°€ëŠ¥ì„±ì´ ìˆìœ¼ë‹ˆ ì¼ë‹¨ ë‚¨ê²¨ë‘ì

- Francë„ Dollarì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë³€ê²½í•´ì¤€ë‹¤
```java
public void testFrancMultiplication() {
    Money five = Money.franc(5);
    assertEquals(Money.franc(10), five.times(2));
    assertEquals(Money.franc(15), five.times(3));
}

public void testEquality() {
    assertTrue(Money.dollar(5).equals(Money.dollar(5)));
    assertFalse(Money.dollar(5).equals(Money.dollar(6)));
    assertTrue(Money.franc(5).equals(Money.franc(5)));
    assertFalse(Money.franc(5).equals(Money.franc(6)));
    assertFalse(Money.franc(5).equals(Money.dollar(5)));
}

Money
static Money franc(int amount) {
    return new Franc(amount);
}
```

      $5 + 10CHF = $10(í™˜ìœ¨ì´ 2:1ì¼ ê²½ìš°)
      âœ… $5 x 2 = $10 (ì™„ë£Œ)
      âœ… amountë¥¼ privateìœ¼ë¡œ ë§Œë“¤ê¸°
      âœ… Dollar ë¶€ì‘ìš©(side effect)?
      Money ë°˜ì˜¬ë¦¼?
      âœ… equals()
      hashCode()
      Equal null
      Equal object
      âœ… 5GHF x 2 = 10GHF
      Dollar/Franc ì¤‘ë³µ
      âœ… ê³µìš© equals
      ê³µìš© times
      âœ… Francê³¼ Dollar ë¹„êµí•˜ê¸°
      í†µí™”?
      testFrancMultiplicationì„ ì§€ì›Œì•¼ í• ê¹Œ?

### âœ” ê²€í† 
- ë™ì¼í•œ ë©”ì„œë“œ(times)ì˜ ë‘ ë³€ì´í˜• ë©”ì„œë“œ ì„œëª…ë¶€ë¥¼ í†µì¼ì‹œí‚´ìœ¼ë¡œì¨ ì¤‘ë³µ ì œê±°ë¥¼ í–¥í•´ í•œ ë‹¨ê³„ ë” ì „ì§„í•¨.
- ìµœì†Œí•œ ë©”ì„œë“œ ì„ ì–¸ë¶€ë§Œì´ë¼ë„ ê³µí†µ ìƒìœ„ í´ë˜ìŠ¤(superclass)ë¡œ ì˜®ê²¼ë‹¤.
- íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ ë„ì…í•˜ì—¬ í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ì½˜í¬ë¦¬íŠ¸ í•˜ìœ„ í´ë˜ìŠ¤ì˜ ì¡´ì¬ ì‚¬ì‹¤ì„ ë¶„ë¦¬í•´ëƒˆë‹¤.
- í•˜ìœ„ í´ë˜ìŠ¤ê°€ ì‚¬ë¼ì§€ë©´ ëª‡ëª‡ í…ŒìŠ¤íŠ¸ëŠ” ë¶ˆí•„ìš”í•œ ì—¬ë¶„ì˜ ê²ƒì´ ëœë‹¤ëŠ” ê²ƒì„ ì¸ì‹í–ˆë‹¤. í•˜ì§€ë§Œ ì¼ë‹¨ ê·¸ëƒ¥ ë’€ë‹¤.

## 1-9. ìš°ë¦¬ê°€ ì‚¬ëŠ” ì„¸ìƒ
- í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ì œê±°í•˜ê¸° ìœ„í•´ì„  ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ?
- í†µí™” ê°œë…ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„  ì–´ë–»ê²Œ í…ŒìŠ¤íŠ¸ í•´ì•¼í• ê¹Œ?
- ì¼ë‹¨ ë¬¸ìì—´ì„ ì¨ì„œ ë‚˜íƒ€ë‚´ë³´ì.

```java
public void testCurrency() {
    assertEquals("USD", Money.dollar(1).currency());
    assertEquals("CHF", Money.franc(1).currency());
}
```
- Moneyì— currency() ë©”ì„œë“œë¥¼ ì„ ì–¸í•œë‹¤.
```java
abstract String currency();
```
- í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•œë‹¤.
```java
Dollar
String currency() {
   return "USD";
}
```
```java
Franc
String currency() {
   return "CHF";
}
```
- ìš°ë¦° ë‘ í´ë˜ìŠ¤ë¥¼ ëª¨ë‘ í¬í•¨í•  ìˆ˜ ìˆëŠ” ë™ì¼í•œ êµ¬í˜„ì„ ì›í•œë‹¤.
- í†µí™”ë¥¼ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì— ì €ì¥í•˜ê³ , ë©”ì„œë“œì—ì„œëŠ” ê·¸ëƒ¥ ê·¸ê±¸ ë°˜í™˜í•˜ê²Œ ë§Œë“¤ì–´ë³´ì.

```java
Franc
private String currency;
    
Franc(int amount) {
    this.amount = amount;
    currency = "CHF";
}

String currency() {
    return currency;
}

Dollar
private String currency;

Dollar(int amount) {
    this.amount = amount;
    currency = "USD";
}

String currency() {
    return currency;
}
```
- ì´ì œ ë‘ currency()ê°€ ë™ì¼í•˜ê¸° ë•Œë¬¸ì— ë³€ìˆ˜ ì„ ì–¸ê³¼ currency() êµ¬í˜„ì„ ìœ„ë¡œ(Money) ì˜¬ë¦°ë‹¤.
```java
protected String currency;
String currency() {
   return currency;
}
```
- ë¬¸ìì—´ 'USD'ì™€ 'CHF'ë¥¼ ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œë¡œ ì˜®ê¸´ë‹¤ë©´ ë‘ ìƒì„±ìê°€ ë™ì¼í•´ì§ˆ ê²ƒì´ê³ ,
- ê³µí†µ êµ¬í˜„ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ìƒì„±ìì— ì¸ìë¥¼ ì¶”ê°€í•˜ì.
```java
    Franc(int amount, String currency) {
        this.amount = amount;
        this.currency = "CHF";
    }
```
- ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ëŠ” ì½”ë“œ ë‘ ê³³ì´ ê¹¨ì§„ë‹¤.
```java
Money   
static Money franc(int amount) {
    return new Franc(amount, null);
}

Franc
Money times(int multiplier) {
   return new Franc(amount * multiplier, null);
}
```
- ì ê¹, ì™œ Franc.times()ê°€ íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šê³  ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ì§€?
- Francì˜ times()ë¥¼ ì •ë¦¬í•˜ì
```java
Money times(int multiplier) {
    return Money.franc(amount * multiplier);
}
```
- ì´ì œ íŒ©í† ë¦¬ ë©”ì„œë“œê°€ 'CHF'ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.
```java
static Money franc(int amount) {
        return new Franc(amount, "CHF");
    }
```
- ë§ˆì§€ë§‰ìœ¼ë¡œ ì¸ìë¥¼ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì— í• ë‹¹í•œë‹¤.
```java
Franc(int amount, String currency) {
        this.amount = amount;
        this.currency = currency;
    }
```
- ì´ì œ Dollarë„ ë°”ê¿”ë³´ê¸°
```
Money
static Money franc(int amount) {
        return new Franc(amount, "CHF");
    }
class Dollar extends Money {

    Dollar(int amount, String currency) {
        this.amount = amount;
        this.currency = currency;
    }

    Money times(int multiplier) {
        return Money.dollar(amount * multiplier);
    }
}    
```
- ì§€ê¸ˆê³¼ ê°™ì€ ì¼ì€ TDDë¥¼ í•˜ëŠ” ë™ì•ˆ ê³„ì™ í•´ì¤˜ì•¼ í•˜ëŠ” ì¼ì¢…ì˜ ì¡°ìœ¨ì´ë‹¤.
- ì¢…ì¢…ê±¸ìŒìœ¼ë¡œ ì§„í–‰í•˜ëŠ” ê²ƒì´ ë‹µë‹µí•˜ë©´ ë³´í­ì„ ì¡°ê¸ˆ ë„“í˜€ë¼
- ì„±í¼ì„±í¼ ê±·ëŠ” ê²ƒì´ ë¶ˆì•ˆí•˜ë©´ ë³´í­ì„ ì¤„ì—¬ë¼
- TDDë€ ì¡°ì¢…í•´ ë‚˜ê°€ëŠ” ê³¼ì •ì´ë‹¤.
- ì´ìª½ìœ¼ë¡œ ì¡°ê¸ˆ, ì €ìª½ìœ¼ë¡œ ì¡°ê¸ˆ, ì§€ê¸ˆë„ , ê·¸ë¦¬ê³  ì•ìœ¼ë¡œë„ ì •í•´ì§„ ì˜¬ë°”ë¥¸ ë³´í­ì´ë€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤.



- ë‘ ìƒì„±ìê°€ ë™ì¼í•´ì¡Œê¸° ë–„ë¬¸ì— êµ¬í˜„ì„ ìƒìœ„ í´ë˜ìŠ¤ë¡œ ì˜¬ë¦°ë‹¤.
```java
Money
Money(int amount, String currency) {
        this.amount = amount;
        this.currency = currency;
    }
Franc
Franc(int amount, String currency) {
        super(amount, currency);
    }
Dollar
Dollar(int amount, String currency) {
        super(amount, currency);
    }
```

      $5 + 10CHF = $10(í™˜ìœ¨ì´ 2:1ì¼ ê²½ìš°)
      âœ… $5 x 2 = $10 (ì™„ë£Œ)
      âœ… amountë¥¼ privateìœ¼ë¡œ ë§Œë“¤ê¸°
      âœ… Dollar ë¶€ì‘ìš©(side effect)?
      Money ë°˜ì˜¬ë¦¼?
      âœ… equals()
      hashCode()
      Equal null
      Equal object
      âœ… 5GHF x 2 = 10GHF
      Dollar/Franc ì¤‘ë³µ
      âœ… ê³µìš© equals
      ê³µìš© times
      âœ… Francê³¼ Dollar ë¹„êµí•˜ê¸°
      âœ… í†µí™”?
      testFrancMultiplicationì„ ì œê±°

### âœ” ê²€í† 
- í° ì„¤ê³„ ì•„ì´ë””ì–´ë¥¼ ë‹¤ë£¨ë‹¤ê°€ ì¡°ê¸ˆ ê³¤ê²½ì— ë¹ ì¡Œë‹¤. ê·¸ë˜ì„œ ì¢€ ì „ì— ì£¼ëª©í–ˆë˜ ë” ì‘ì€ ì‘ì—…ì„ ìˆ˜í–‰í–ˆë‹¤.
- ë‹¤ë¥¸ ë¶€ë¶„ë“¤ì„ í˜¸ì¶œì(íŒ©í† ë¦¬ ë©”ì„œë“œ)ë¡œ ì˜®ê¹€ìœ¼ë¡œì¨ ë‘ ìƒì„±ìë¥¼ ì¼ì¹˜ì‹œì¼°ë‹¤.
- times()ê°€ íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë„ë¡ ë§Œë“¤ê¸° ìœ„í•´ ë¦¬íŒ©í† ë§ì„ ì ì‹œ ì¤‘ë‹¨í–ˆë‹¤.
- ë¹„ìŠ·í•œ ë¦¬íŒ©í† ë§(Francì— í–ˆë˜ ì¼ì„ Dollarì—ë„ ì ìš©)ì„ í•œë²„ëŠì´ í° ë‹¨ê³„ë¡œ ì²˜ë¦¬í–ˆë‹¤.
- ë™ì¼í•œ ìƒì„±ìë“¤ì„ ìƒìœ„ í´ë˜ìŠ¤ë¡œ ì˜®ê²¼ë‹¤.

## 1-10. í¥ë¯¸ë¡œìš´ ì‹œê°„
- ì´ ì¥ì„ ëë‚´ê³  ë‚˜ë©´, Moneyë¥¼ ë‚˜íƒ€ë‚´ê¸° ìœ„í•œ ë‹¨ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ë§Œì„ ê°–ê²Œ ë  ê²ƒ.
- ë‘ times() êµ¬í˜„ì´ ê±°ì˜ ë¹„ìŠ·í•˜ê¸´ í•˜ì§€ë§Œ ì•„ì§ ì™„ì „íˆ ë™ì¼í•˜ì§€ ì•ŠëŠ”ë‹¤.
```java
Franc
    Money times(int multiplier) {
        return Money.franc(amount * multiplier);
    }
Dollar
    Money times(int multiplier) {
        return Money.dollar(amount * multiplier);
    }
```
- ì´ ë‘˜ì„ ë™ì¼í•˜ê²Œ ë§Œë“¤ê¸° ìœ„í•œ ëª…ë°±í•œ ë°©ë²•ì´ ì—†ë‹¤.
- ë–„ë¡œëŠ” ì „ì§„í•˜ê¸° ìœ„í•´ ë¬¼ëŸ¬ì„œì•¼ í•  ë•Œë„ ìˆëŠ” ë²•.
- íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ ì¸ë¼ì¸ì‹œì¼œë³´ì....
```java
Franc
   Money times(int multiplier) {
        return new Franc(amount * multiplier, "CHF");
    }
Dollar
   Money times(int multiplier) {
        return new Dollar(amount * multiplier, "USD");
    }
```
- ë‘ í´ë˜ìŠ¤ëª¨ë‘ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ currencyê°€ í•­ìƒ 'CHF', 'USD'ì´ë¯€ë¡œ ë‹¤ìŒê³¼ ê°™ì´ ì“¸ ìˆ˜ ìˆë‹¤.
```java
Franc
   Money times(int multiplier) {
        return new Franc(amount * multiplier, currency);
   }
Dollar
   Money times(int multiplier) {
        return new Dollar(amount * multiplier, currency);
    }
```
- Francì„ ê°€ì§ˆì§€ Moneyë¥¼ ê°€ì§ˆì§€ê°€ ì •ë§ë¡œ ì¤‘ìš”í•œ ì‚¬ì‹¤ì¸ê°€?
- ì‹œìŠ¤í…œì— ëŒ€í•´ ì•„ëŠ” ì§€ì‹ì„ ê¸°ë°˜ìœ¼ë¡œ ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ ìƒê°í•´ ë´ì•¼ í•  ë¬¸ì œ.
- ëª‡ ë¶„ ë™ì•ˆ ê³ ë¯¼í•˜ëŠ” ëŒ€ì‹  ê·¸ëƒ¥ ìˆ˜ì •í•˜ê³  í…ŒìŠ¤íŠ¸ë¥¼ ëŒë ¤ì„œ ì»´í“¨í„°ì—ê²Œ ë¬¼ì–´ë³´ì.
- ê°€ë”ì€ ê·¸ëƒ¥ ê³ ë¯¼í•˜ëŠ” ëŒ€ì‹  ì»´í“¨í„°ì—ê²Œ ë¬¼ì–´ë³´ëŠ” ê²ƒë„ ì¢‹ë‹¤.
```java
   Money times(int multiplier) {
        return new Money(amount * multiplier, currency);
    }
```
- ì»´íŒŒì¼ëŸ¬ê°€ Moneyë¥¼ ì½˜í¬ë¦¬íŠ¸ í´ë˜ìŠ¤ë¡œ ë°”ê¿”ì•¼ í•œë‹¤ê³  í•œë‹¤.
```java
Money
Money times(int multiplier) {
        return null;
    };
```
- <jpa.Franc@4743c8aa> but was:<jpa.Money@70e2dcec> ë¹¨ê°„ ë§‰ëŒ€
- ë” ë‚˜ì€ ë©”ì‹œì§€ë¥¼ ë³´ê¸° ìœ„í•´ toString()ì„ ì •ì˜í•˜ì
```java
Money
public String toString() {
        return amount + " " + currency;
    }
```
- í—‰! í…ŒìŠ¤íŠ¸ë„ ì—†ì´ ì½”ë“œ ì‘ì„±?
- toString()ì„ ì‘ì„±í•˜ê¸° ì „ì— í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ”ê²Œ ë§ì§€ë§Œ
   - ìš°ë¦° ì§€ê¸ˆ í™”ë©´ì— ë‚˜íƒ€ë‚˜ëŠ” ê²°ê³¼ë¥¼ ë³´ë ¤ë˜ ì°¸ì´ì—ˆë‹¤.
   - toString()ì€ ë””ë²„ê·¸ ì¶œë ¥ì—ë§Œ ì“°ì´ê¸° ë•Œë¬¸ì— ì´ê²Œ ì˜ëª» êµ¬í˜„ë¨ìœ¼ë¡œ ì–»ê²Œ ë  ë¦¬ìŠ¤í¬ê°€ ì ë‹¤
   - ì´ë¯¸ ë¹¨ê°„ ë§‰ëŒ€ ìƒíƒœì¸ë° ì´ ìƒíƒœì—ì„œëŠ” ìƒˆë¡œìš´ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤.
   
- ë°”ë€ ì˜ˆì™¸ ë©”ì‹œì§€ : expected:<10 CHF> but was:<10 CHF>
- ë‹µì€ ë§ì•˜ì§€ë§Œ í´ë˜ìŠ¤ê°€ ë‹¤ë¥´ë‹¤.
- Franc ëŒ€ì‹  Money í´ë˜ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.
- equals() êµ¬í˜„ì„ ì‚´í´ë³´ì

```java
public boolean equals(Object object) {
        Money money = (Money) object;
        return amount == money.amount && getClass().equals(money.getClass());
    }
```
- ì •ë§ë¡œ ê²€ì‚¬í•´ì•¼ í•  ê²ƒì€ í´ë˜ìŠ¤ê°€ ê°™ì€ì§€ê°€ ì•„ë‹ˆë¼ currency ê°™ì€ì§€ ì—¬ë¶€
- ë¹¨ê°„ ë§‰ëŒ€ì¸ ìƒí™©ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€ë¡œ ì‘ì„±í•˜ëŠ” ê²ƒë³´ë‹¤ëŠ” ë³€ê²½ëœ ì½”ë“œë¥¼ ë˜ëŒë ¤ì„œ
- ë‹¤ì‹œ ì´ˆë¡ ë§‰ëŒ€ ìƒíƒœë¡œ ë§Œë“  í›„ equals()ë¥¼ ìœ„í•´ í…ŒìŠ¤íŠ¸ë¥¼ ê³ ì¹˜ê³  êµ¬í˜„ì½”ë“œë¥¼ ê³ ì¹  ìˆ˜ ìˆê²Œ ë˜ê³ ,
- ê·¸ í›„ì—ì•¼ ì›ë˜ í•˜ë˜ ì¼ì„ ë‹¤ì‹œ í•  ìˆ˜ ìˆë‹¤.
```java
Money times(int multiplier) {
        return new Franc(amount * multiplier, currency);
    }
```
- ë‹¤ì‹œ ì´ˆë¡ ë§‰ëŒ€ë¡œ ëŒì•„ì™”ë‹¤.
- ìš°ë¦¬ ìƒí™©ì€ Franc(10, 'CHF')ì™€ Money(10, 'CHF')ê°€ ê°™ê¸¸ ë°”ë¼ì§€ë§Œ ì•„ë‹ˆë¼ê³  ë³´ê³ ëœ ê²ƒ.
- ìš°ë¦¬ëŠ” ì´ê±¸ ê·¸ëŒ€ë¡œ í…ŒìŠ¤íŠ¸ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```java
Money
public void testDifferentClassEquality() {
        assertTrue(new Money(10, "CHF").equals(new Franc(10, "CHF")));
    }
```
- ì˜ˆìƒëŒ€ë¡œ ì‹¤íŒ¨ë‹¤.
- equals()ì½”ë“œëŠ” í´ë˜ìŠ¤ê°€ ì•„ë‹ˆë¼ currencyë¥¼ ë¹„êµí•´ì•¼ í•œë‹¤.
```java
Money
public boolean equals(Object object) {
        Money money = (Money) object;
        return amount == money.amount && currency().equals(money.currency());
    }
```
- ì´ì œ Franc.times() ì—ì„œ Moneyë¥¼ ë°˜í™˜í•´ë„ ì—¬ì „íˆ í†µê³¼í•  ìˆ˜ ìˆë‹¤.
```java
Franc
Money times(int multiplier) {
        return new Money(amount * multiplier, currency);
    }
```
- Dollar.times()ì—ë„ ì ìš©í•´ë³´ì
```java
Dollar
Money times(int multiplier) {
        return new Money(amount * multiplier, currency);
    }
```
- ì˜ ëœë‹¤! ë‘ êµ¬í˜„ì´ ë™ì¼í•´ì¡Œìœ¼ë‹ˆ ìƒìœ„ í´ë˜ìŠ¤ë¡œ ëŒì–´ ì˜¬ë¦°ë‹¤.
```java
Money
Money times(int multiplier) {
        return new Money(amount * multiplier, currency);
    };
```
      $5 + 10CHF = $10(í™˜ìœ¨ì´ 2:1ì¼ ê²½ìš°)
      âœ… $5 x 2 = $10 (ì™„ë£Œ)
      âœ… amountë¥¼ privateìœ¼ë¡œ ë§Œë“¤ê¸°
      âœ… Dollar ë¶€ì‘ìš©(side effect)?
      Money ë°˜ì˜¬ë¦¼?
      âœ… equals()
      hashCode()
      Equal null
      Equal object
      âœ… 5GHF x 2 = 10GHF
      Dollar/Franc ì¤‘ë³µ
      âœ… ê³µìš© equals
      âœ… ê³µìš© times
      âœ… Francê³¼ Dollar ë¹„êµí•˜ê¸°
      âœ… í†µí™”?
      testFrancMultiplicationì„ ì œê±°

### âœ” ê²€í† 
- ë‘ times()ë¥¼ ì¼ì¹˜ì‹œí‚¤ê¸° ìœ„í•´ ê·¸ ë©”ì„œë“œë“¤ì´ í˜¸ì¶œí•˜ëŠ” ë‹¤ë¥¸ ë©”ì„œë“œë“¤ì„ ì¸ë¼ì¸ì‹œí‚¨ í›„ ìƒìˆ˜ë¥¼ ë³€ìˆ˜ë¡œ ë°”ê¿”ì£¼ì—ˆë‹¤.
- ë‹¨ì§€ ë””ë²„ê¹…ì„ ìœ„í•´ í…ŒìŠ¤íŠ¸ ì—†ì´ toString()ì„ ì‘ì„±í–ˆë‹¤.
- Franc ëŒ€ì‹  Moenyë¥¼ ë°˜í™˜í•˜ëŠ” ë³€ê²½ì„ ì‹œë„í•œ ë’¤ ê·¸ê²ƒì´ ì˜ ì‘ë™í• ì§€ë¥¼ í…ŒìŠ¤íŠ¸ê°€ ë§í•˜ë„ë¡ í–ˆë‹¤.
- ì‹¤í—˜í•´ë³¸ ê±¸ ë’¤ë¡œ ë¬¼ë¦¬ê³  ë˜ ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í–ˆë‹¤. í…ŒìŠ¤íŠ¸ë¥¼ ì‘ë™í–ˆë”ë‹ˆ ì‹¤í—˜ë„ ì œëŒ€ë¡œ ì‘ë™í–ˆë‹¤.

## 1-11. ëª¨ë“  ì•…ì˜ ê·¼ì›
- ë‘ í•˜ìœ„ í´ë˜ìŠ¤ Dollarì™€ Francì—ëŠ” ë‹¬ë‘ ìƒì„±ì í•˜ë‚˜ ë°–ì— ì—†ë‹¤.
- ë‹¨ì§€ ìƒì„±ì ë•Œë¬¸ì— í•˜ìœ„ í´ë˜ìŠ¤ê°€ ìˆì„ í•„ìš”ëŠ” ì—†ê¸° ë•Œë¬¸ì— í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ì œê±°í•˜ëŠ” ê²Œ ì¢‹ê² ë‹¤.
- ì½”ë“œì˜ ì˜ë¯¸ë¥¼ ë³€ê²½í•˜ì§€ ì•Šìœ¼ë©´ì„œë„ í•˜ìœ„ í´ë˜ìŠ¤ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ìƒìœ„ í´ë˜ìŠ¤ì— ëŒ€í•œ ì°¸ì¡°ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.
- ì¼ë‹¨ Money.franc()ì„ ê³ ì¹˜ì.

```java
Money
static Money franc(int amount) {
        return new Money(amount, "CHF");
    }
```

- ê·¸ë¦¬ê³  Money.dollar()ë„ ê³ ì¹˜ì.
```java
static Money dollar(int amount) {
        return new Money(amount, "USD");
    }
```
- ì´ì œ Dollarì— ëŒ€í•œ ì°¸ì¡°ëŠ” í•˜ë‚˜ë„ ë‚¨ì•„ ìˆì§€ ì•Šìœ¼ë¯€ë¡œ Dollarë¥¼ ì§€ìš¸ ìˆ˜ ìˆë‹¤.
- ë°˜ë©´ FrancëŠ” ìš°ë¦¬ê°€ ì‘ì„±í–ˆë˜ í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ì•„ì§ ì°¸ì¡°í•œë‹¤.
```java
public void testDifferentClassEquality() {
        assertTrue(new Money(10, "CHF").equals(new Franc(10, "CHF")));
    }
```
- ì´ í…ŒìŠ¤íŠ¸ë¥¼ ì§€ì›Œë„ ë  ì •ë„ë¡œ ë‹¤ë¥¸ ê³³ì—ì„œ ë™ì¹˜ì„± í…ŒìŠ¤íŠ¸ë¥¼ ì¶©ë¶„íˆ í•˜ëŠ”ê°€?
- ë‹¤ë¥¸ ë™ì¹˜ì„± í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ì
```java
public void testEquality() {
        assertTrue(Money.dollar(5).equals(Money.dollar(5)));
        assertFalse(Money.dollar(5).equals(Money.dollar(6)));
        assertTrue(Money.franc(5).equals(Money.franc(5)));
        assertFalse(Money.franc(5).equals(Money.franc(6)));
        assertFalse(Money.franc(5).equals(Money.dollar(5)));
    }
```
- ì¶©ë¶„í•œ í…ŒìŠ¤íŠ¸ì¸ë“¯í•˜ë‹¤.
- ì‚¬ì‹¤ ì¢€ ê³¼í•˜ë‹¤!
- ì„¸ ë²ˆì§¸ì™€ ë„¤ ë²ˆì§¸ ë‹¨ì–¸ì€ ì²« ë²ˆì¨°, ë‘ ë²ˆì§¸ ë‹¨ì–¸ê³¼ ì¤‘ë³µë˜ë¯€ë¡œ ì§€ìš°ì
```java
public void testEquality() {
        assertTrue(Money.dollar(5).equals(Money.dollar(5)));
        assertFalse(Money.dollar(5).equals(Money.dollar(6)));
        assertFalse(Money.franc(5).equals(Money.franc(6)));
    }
```
      $5 + 10CHF = $10(í™˜ìœ¨ì´ 2:1ì¼ ê²½ìš°)
      âœ… $5 x 2 = $10 (ì™„ë£Œ)
      âœ… amountë¥¼ privateìœ¼ë¡œ ë§Œë“¤ê¸°
      âœ… Dollar ë¶€ì‘ìš©(side effect)?
      Money ë°˜ì˜¬ë¦¼?
      âœ… equals()
      hashCode()
      Equal null
      Equal object
      âœ… 5GHF x 2 = 10GHF
      Dollar/Franc ì¤‘ë³µ
      âœ… ê³µìš© equals
      âœ… ê³µìš© times
      âœ… Francê³¼ Dollar ë¹„êµí•˜ê¸°
      âœ… í†µí™”?
      âœ… testFrancMultiplicationì„ ì œê±°

- í´ë˜ìŠ¤ ëŒ€ì‹  currencyë¥¼ ë¹„êµí•˜ë„ë¡ ê°•ìš”í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì—¬ëŸ¬ í´ë˜ìŠ¤ê°€ ì¡´ì¬í•  ë•Œë§Œ ì˜ë¯¸ ìˆë‹¤.
- Franc í´ë˜ìŠ¤ë¥¼ ì œê±°í•˜ë ¤ëŠ” ì¤‘ì´ê¸° ë•Œë¬¸ì— Francì´ ìˆì„ ê²½ìš°ì— ì‹œìŠ¤í…œì´ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” í…ŒìŠ¤íŠ¸ëŠ” ë„ì›€ì´ ì•ˆë˜ê³  ì˜¤íˆë ¤ ì§ì´ ë¨.
- Francê³¼ í•¨ê»˜ testDifferentClassEquality()ë¥¼ ë³´ë‚´ ë²„ë¦¬ì.
- ì´ì™€ ë¹„ìŠ·í•˜ê²Œ ë‹¬ëŸ¬ì™€ í”„ë‘ì— ëŒ€í•œ ë³„ë„ì˜ í…ŒìŠ¤íŠ¸ë“¤ì´ ì¡´ì¬í•œë‹¤.
- ì½”ë“œë¥¼ ë³´ë©´, í™”íì™€ ìƒê´€ì—†ì´ í˜„ì¬ëŠ” ë¡œì§ìƒì˜ ì°¨ì´ê°€ ì—†ë‹¤ëŠ” ê±¸ ì•Œ ìˆ˜ ìˆìŒ.
- í´ë˜ìŠ¤ê°€ ë‘ ê°œì˜€ì„ ë•ŒëŠ” ì°¨ì´ê°€ ìˆì—ˆìŒ.
- testFrancMultiplication()ì„ ì§€ì›Œë„ ì‹œìŠ¤í…œì˜ ë™ì‘ì— ëŒ€í•œ ì‹ ë¢°ë¥¼ ìƒì§€ ì•Šì„ ê²ƒì´ë‹¤.
- ì´ì œëŠ” í´ë˜ìŠ¤ê°€ í•˜ë‚˜ë¿!
- ë§ì…ˆì„ ë‹¤ë£° ì¤€ë¹„ê°€ ë˜ì—ˆë‹¤.


### âœ” ê²€í† 
- í•˜ìœ„ í´ë˜ìŠ¤ì˜ ì†ì„ ë“¤ì–´ë‚´ëŠ” ê±¸ ì™„ë£Œí•˜ê³  í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ì‚­ì œí–ˆë‹¤.
- ê¸°ì¡´ì˜ ì†ŒìŠ¤ êµ¬ì¡°ì—ì„œëŠ” í•„ìš”í–ˆì§€ë§Œ ìƒˆë¡œìš´ êµ¬ì¡°ì—ì„œëŠ” í•„ìš” ì—†ê²Œ ëœ í…ŒìŠ¤íŠ¸ë¥¼ ì œê±°í–ˆë‹¤.

# 1-12. ë“œë””ì–´, ë”í•˜ê¸°
> $5 + 10CHF = $10(í™˜ìœ¨ì´ 2:1ì¼ ê²½ìš°)

ì „ì²´ ë”í•˜ê¸° ê¸°ëŠ¥ì— ëŒ€í•œ ìŠ¤í† ë¦¬ë¥¼ ì–´ë–»ê²Œ ì ì–´ì•¼ í• ì§€..?
ì¢€ ë” ê°„ë‹¨í•œ ì˜ˆ, '$5 + $5 = $10'ì—ì„œ ì‹œì‘í•´ë³´ì
    
    $5 + 10CHF = $10(í™˜ìœ¨ì´ 2:1ì¼ ê²½ìš°)
    $5 + $5 = $10

```java
public void testSimpleAddition() {
        Money sum = Money.dollar(5).plus(Money.dollar(5));
        assertEquals(Money.dollar(10).sum);
    }
```
- ê·¸ëƒ¥ 'Money.dollar(10)'ì„ ë°˜í™˜í•˜ëŠ” ì‹ìœ¼ë¡œ ê°€ì§œ êµ¬í˜„ì„ í•  ìˆ˜ë„ ìˆë‹¤.
- í•˜ì§€ë§Œ ì–´ë–»ê²Œ êµ¬í˜„í•´ì•¼ í• ì§€ ëª…í™•í•˜ê¸° ë•Œë¬¸ì— ë‹¤ìŒê³¼ ê°™ì´ í•œë‹¤.

```java
Money
Money plus(Money addend) {
        return new Money(amount + addend.amount, currency);
    }
```
- ì„¤ê³„ìƒ ê°€ì¥ ì–´ë ¤ìš´ ì œì•½ì€ ë‹¤ì¤‘ í†µí™” ì‚¬ìš©ì— ëŒ€í•œ ë‚´ìš©ì„ ì‹œìŠ¤í…œì˜ ë‚˜ë¨¸ì§€ ì½”ë“œì—ê²Œ ìˆ¨ê¸°ê³  ì‹¶ë‹¤ëŠ” ì .
- í•œ ê°€ì§€ ê°€ëŠ¥í•œ ì „ëµ : ëª¨ë“  ë‚´ë¶€ê°’ì„ ì°¸ì¡°í†µí™”ë¡œ ì „í™˜í•˜ëŠ” ê²ƒ
    - but, ì´ ë°©ë²•ì€ ì—¬ëŸ¬ í™˜ìœ¨ì„ ì“°ê¸°ê°€ ì–´ë ¤ì›€
    
- í¸í•˜ê²Œ ì—¬ëŸ¬ í™˜ìœ¨ì„ í‘œí˜„í•  ìˆ˜ ìˆìœ¼ë©´ì„œë„ ì‚°ìˆ  ì—°ì‚° ë¹„ìŠ·í•œ í‘œí˜„ë“¤ì„ ì—¬ì „íˆ ì‚°ìˆ  ì—°ì‚°ì²˜ëŸ¼ ë‹¤ë£° ìˆ˜ ìˆëŠ” í•´ë²•ì´ ìˆìœ¼ë©´ ì¢‹ì„ ê²ƒ ê°™ìŒ.
    - ê°ì²´ê°€ ìš°ë¦¬ë¥¼ êµ¬í•´ì¤„ ê²ƒì´ë‹¤.
    - ê°€ì§€ê³  ìˆëŠ” ê°ì²´ê°€ ì›í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•Šìœ¼ë©´?
        - ê·¸ ê°ì²´ì™€ ì™¸ë¶€ í”„ë¡œí† ì½œì´ ê°™ìœ¼ë©´ì„œ ë‚´ë¶€ êµ¬í˜„ì€ ë‹¤ë¥¸ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
    
- í•´ë²•ì€ Moneyì™€ ë¹„ìŠ·í•˜ê²Œ ë™ì‘í•˜ì§€ë§Œ ì‚¬ì‹¤ì€ ë‘ Moneyì˜ í•©ì„ ë‚˜íƒ€ë‚´ëŠ” ê°ì²´ë¥¼ ë§Œë“œëŠ” ê²ƒ.
- ì•„ì´ë””ì–´ë¥¼ ì„¤ëª…í•˜ê¸° ìœ„í•œ ëª‡ ê°€ì§€ ë‹¤ë¥¸ ë©”íƒ€í¬
    1. Money í•©ì„ ë§ˆì¹˜ ì§€ê°‘ì²˜ëŸ¼ ì·¨ê¸‰
        - í•œ ì§€ê°‘ì—ëŠ” ê¸ˆì•¡ê³¼ í†µí™”ê°€ ë‹¤ë¥¸ ì—¬ëŸ¬ í™”íë“¤ì´ ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤.
    2. '(2 + 3) x 5'ì™€ ê°™ì€ ìˆ˜ì‹... ìš°ë¦¬ ê²½ìš°ì—” '($2 + 3CHF) x 5'
        - Moneyë¥¼ ìˆ˜ì‹ì˜ ê°€ì¥ ì‘ì€ ë‹¨ìœ„ë¡œ ë³¼ ìˆ˜ ìˆë‹¤.
        - ì—°ì‚°ì˜ ê²°ê³¼ë¡œ Expressionë“¤ì´ ìƒê¸°ëŠ”ë°, ê·¸ ì¤‘ í•˜ë‚˜ëŠ” Sum(í•©)
        - ì—°ì‚°ì´ ì™„ë£Œë˜ë©´, í™˜ìœ¨ì„ ì´ìš©í•´ì„œ ê²°ê³¼ Expressionì„ ë‹¨ì¼ í†µí™”ë¡œ ì¶•ì•½í•  ìˆ˜ ìˆë‹¤.
    
- ì´ ë©”íƒ€í¬ë¥¼ í…ŒìŠ¤íŠ¸ì— ì ìš©.
- ë§ˆì§€ë§‰ì¤„ì´ ë‹¤ìŒê³¼ ê°™ì´ ëë‚  ê²ƒì´ë‹¤.
```java
public void testSimpleAddition() {
        ...
        assertEquals(Money.dollar(10), reduced);
    }
```
- reduced(ì¶•ì•½ëœ)ë€ ì´ë¦„ì˜ Expressionì€ Expressionì— í™˜ìœ¨ì„ ì ìš©í•¨ìœ¼ë¡œì¨ ì–»ì–´ì§
- ì‹¤ì„¸ê³„ì—ì„œ í™˜ìœ¨ì´ ì ìš©ë˜ëŠ” ê³³ì€ ? ì€í–‰..!

```java
public void testSimpleAddition() {
        ...
        Money reduced = back.reduce(sum, "USD");
        assertEquals(Money.dollar(10), reduced);
    }
```
- ì™œ ì¶•ì•½ì´ ìˆ˜ì‹ì´ ì•„ë‹Œ ì€í–‰ì˜ ì±…ì„ì´ì–´ì•¼ í•œë‹¤ëŠ” ìƒê°ì´ ë– ì˜¬ëì„ê°€?
    - Expressionì€ ìš°ë¦¬ê°€ í•˜ë ¤ê³  í•˜ëŠ” ì¼ì˜ í•µì‹¬ì— í•´ë‹¹í•¨.
        - í•µì‹¬ì´ ë˜ëŠ” ê°ì²´ê°€ ë‹¤ë¥¸ ë¶€ë¶„ì— ëŒ€í•´ì„œ ë  ìˆ˜ ìˆëŠ” í•œ ëª¨ë¥´ë„ë¡ ë…¸ë ¥í•œë‹¤.
        - ê·¸ë ‡ê²Œ í•˜ë©´ í•µì‹¬ ê°ì²´ê°€ ê°€ëŠ¥í•œ ì˜¤ë« ë™ì•ˆ ìœ ì—°í•  ìˆ˜ ìˆë‹¤.
    - Expressionê³¼ ê´€ë ¨ì´ ìˆëŠ” ì˜¤í¼ë ˆì´ì…˜ì´ ë§ì„ ê±°ë¼ê³  ìƒìƒí•  ìˆ˜ ìˆë‹¤.
        - ë§Œì•½ì— ëª¨ë“  ì˜¤í¼ë ˆì´ì…˜ì„ Expressionì—ë§Œ ì¶”ê°€í•œë‹¤ë©´ Expressionì€ ë¬´í•œíˆ ì»¤ì§ˆ ê²ƒì´ë‹¤.

- Bankê°€ ë³„ í•„ìš” ì—†ê²Œ ëœë‹¤ë©´ ì¶•ì•½ì„ êµ¬í˜„í•  ì±…ì„ì„ Expressionìœ¼ë¡œ ê¸°êº¼ì´ ì˜®ê¸¸ ìˆ˜ ìˆë‹¤.
- ì´ ì˜ˆì œì—ì„œ BankëŠ” ê°ì²´ë§Œ ìˆìœ¼ë©´ ëœë‹¤.

```java
public void testSimpleAddition() {
        ...
        Bank bank = new Bank();
        Money reduced = back.reduce(sum, "USD");
        assertEquals(Money.dollar(10), reduced);
    }
```
- ë‘ Moneyì˜ í•©ì€ Expressionì´ì–´ì•¼ í•œë‹¤.
```java
public void testSimpleAddition() {
        ...
        Expression sum = five.plus(five);
        Bank bank = new Bank();
        Money reduced = back.reduce(sum, "USD");
        assertEquals(Money.dollar(10), reduced);
    }
```
- $5ë¥¼ ë§Œë“œëŠ” ê±´ ê°„ë‹¨í•˜ë‹¤.
```java
public void testSimpleAddition() {
        Money five = Money.dollar(5);
        Expression sum = five.plus(five);
        Bank bank = new Bank();
        Money reduced = back.reduce(sum, "USD");
        assertEquals(Money.dollar(10), reduced);
    }
```
- ì´ê±¸ ì»´íŒŒì¼í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜? 
  - Expression ì¸í„°í˜ì´ìŠ¤ê°€ í•„ìš”í•¨
```java
interface Expression
```
- Money.plus()ëŠ” Expressionì„ ë°˜í™˜í•´ì•¼ í•œë‹¤.
```java
Expression plus(Money addend) {
        return new Money(amount + addend.amount, currency);
    }
```
- ì´ê±´ Moneyê°€ Expressionì„ êµ¬í˜„í•´ì•¼ í•œë‹¤ëŠ” ëœ»ì´ë‹¤.
```java
class Money implements Expression 
```
- ì´ì œ ë¹ˆ Bank í´ë˜ìŠ¤ê°€ í•„ìš”í•˜ë‹¤.
```java
class Bank
```
- Bankì—ëŠ” reduce()ì˜ ìŠ¤í…ì´ ìˆì–´ì•¼ í•¨
```java
class Bank {
    Money reduce(Expression source, String to) {
        return null;
    }
}
```
- ì´ì œ ì»´íŒŒì¼ ë˜ê³ , ì‹¤íŒ¨! ê°€ì§œ êµ¬í˜„ì„ í•  ìˆ˜ ìˆë‹¤.
```java
class Bank {
    Money reduce(Expression source, String to) {
        return Money.dollar(10);
    }
}
```
- ì´ˆë¡ ë§‰ëŒ€ë¡œ ëŒì•„ì™”ê³ , ë¦¬íŒ©í† ë§í•  ì¤€ë¹„ê°€ ëë‹¤.

### âœ” ê²€í† 
- í° í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì€ í…ŒìŠ¤íŠ¸($5 + 10CHFì—ì„œ $5 + $5)ë¡œ ì¤„ì—¬ì„œ ë°œì „ì„ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆë„ë¡ í–ˆë‹¤.
- ìš°ë¦¬ì—ê²Œ í•„ìš”í•œ ê³„ì‚°(computation)ì— ëŒ€í•œ ê°€ëŠ¥í•œ ë©”íƒ€í¬ë“¤ì„ ì‹ ì¤‘íˆ ìƒê°í•´ë´¤ë‹¤.
- ìƒˆ ë©”íƒ€í¬ì— ê¸°ë°˜í•˜ì—¬ ê¸°ì¡´ì˜ í…ŒìŠ¤íŠ¸ë¥¼ ì¬ì‘ì„±í–ˆë‹¤.
- í…ŒìŠ¤íŠ¸ë¥¼ ë¹ ë¥´ê²Œ ì»´íŒŒì¼í–ˆë‹¤.
- ê·¸ë¦¬ê³  í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í–ˆë‹¤.
- ì§„ì§œ êµ¬í˜„ì„ ë§Œë“¤ê¸° ìœ„í•´ í•„ìš”í•œ ë¦¬íŒ©í† ë§ì„ ì•½ê°„ì˜ ì „ìœ¨ê³¼ í•¨ê»˜ ê¸°ëŒ€í–ˆë‹¤.