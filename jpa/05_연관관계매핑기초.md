## ëª©ì°¨
- [05. ì—°ê´€ê´€ê³„ ë§¤í•‘ ê¸°ì´ˆ](#05-ì—°ê´€ê´€ê³„-ë§¤í•‘-ê¸°ì´ˆ)
    - 5.1 [ë‹¨ë°©í–¥ ì—°ê´€ê´€ê³„](#51-ë‹¨ë°©í–¥-ì—°ê´€ê´€ê³„)
        - 5.1.1 [ê°ì²´ ê´€ê³„ ë§¤í•‘](#511-ê°ì²´-ê´€ê³„-ë§¤í•‘)
    - 5.2 [ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„](#52-ì–‘ë°©í–¥-ì—°ê´€ê´€ê³„)
        - 5.2.1 [ì¼ëŒ€ë‹¤ ì»¬ë ‰ì…˜ ì¡°íšŒ](#521-ì¼ëŒ€ë‹¤-ì»¬ë ‰ì…˜-ì¡°íšŒ)
    - 5.3 [ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸](#53-ì—°ê´€ê´€ê³„ì˜-ì£¼ì¸)
        - 5.3.1 [ì–‘ë°©í–¥ ë§¤í•‘ì˜ ê·œì¹™: ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸](#531-ì–‘ë°©í–¥-ë§¤í•‘ì˜-ê·œì¹™-ì—°ê´€ê´€ê³„ì˜-ì£¼ì¸)
        - 5.3.2 [ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì€ ì™¸ë˜ í‚¤ê°€ ìˆëŠ” ê³³](#532-ì—°ê´€ê´€ê³„ì˜-ì£¼ì¸ì€-ì™¸ë˜-í‚¤ê°€-ìˆëŠ”-ê³³)
    - 5.4 [ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ ì €ì¥](#54-ì–‘ë°©í–¥-ì—°ê´€ê´€ê³„-ì €ì¥)
    - 5.5 [ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ì˜ ì£¼ì˜ì ](#55-ì–‘ë°©í–¥-ì—°ê´€ê´€ê³„ì˜-ì£¼ì˜ì )
        - 5.5.1 [ìˆœìˆ˜í•œ ê°ì²´ê¹Œì§€ ê³ ë ¤í•œ ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„](#551-ìˆœìˆ˜í•œ-ê°ì²´ê¹Œì§€-ê³ ë ¤í•œ-ì–‘ë°©í–¥-ì—°ê´€ê´€ê³„)
        - 5.5.2 [ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì†Œë“œ](#552-ì—°ê´€ê´€ê³„-í¸ì˜-ë©”ì†Œë“œ)
        - 5.5.3 [ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì†Œë“œ ì‘ì„± ì‹œ ì£¼ì˜ì‚¬í•­](#553-ì—°ê´€ê´€ê³„-í¸ì˜-ë©”ì†Œë“œ-ì‘ì„±-ì‹œ-ì£¼ì˜ì‚¬í•­)

# 05. ì—°ê´€ê´€ê³„ ë§¤í•‘ ê¸°ì´ˆ
- ğŸš© ëª©í‘œ : ê°ì²´ì˜ ì°¸ì¡°ì™€ í…Œì´ë¸”ì˜ ì™¸ë˜ í‚¤ë¥¼ ë§¤í•‘í•˜ëŠ” ê²ƒ
- ì—°ê´€ê´€ê³„ ë§¤í•‘ì„ ì´í•´í•˜ê¸° ìœ„í•œ í•µì‹¬ í‚¤ì›Œë“œ
    - ë°©í–¥ | ê°ì²´ê´€ê³„ì—ë§Œ ì¡´ì¬. í…Œì´ë¸” ê´€ê³„ëŠ” í•­ìƒ ì–‘ë°©í–¥ì´ë‹¤.
        - ë‹¨ë°©í–¥ : íšŒì› -> íŒ€ OR íŒ€ -> íšŒì›
        - ì–‘ë°©í–¥ : íšŒì› -> íŒ€ AND íŒ€ -> íšŒì›
    - ë‹¤ì¤‘ì„±
        - ë‹¤ëŒ€ì¼ (N:1)
        - ì¼ëŒ€ë‹¤ (1:N)
        - ì¼ëŒ€ì¼ (1:1)
        - ë‹¤ëŒ€ë‹¤ (N:N)
    - ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸
        - ê°ì²´ë¥¼ ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ë¡œ ë§Œë“¤ë©´ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì„ ì •í•´ì•¼ í•œë‹¤.

## 5.1 ë‹¨ë°©í–¥ ì—°ê´€ê´€ê³„

![ë‹¤ëŒ€ì¼ë‹¨ë°©í–¥.png](img/ë‹¤ëŒ€ì¼ë‹¨ë°©í–¥.png)

- íšŒì›ê³¼ íŒ€ì˜ ê´€ê³„ë¡œ ì•Œì•„ë³´ëŠ” ë‹¤ëŒ€ì¼ ë‹¨ë°©í–¥ ê´€ê³„
    - íšŒì›ê³¼ íŒ€ì´ ìˆë‹¤.
    - íšŒì›ì€ í•˜ë‚˜ì˜ íŒ€ì—ë§Œ ì†Œì†ë  ìˆ˜ ìˆë‹¤.
    - íšŒì›ê³¼ íŒ€ì€ ë‹¤ëŒ€ì¼ ê´€ê³„ë‹¤.

- ê°ì²´ ì—°ê´€ê´€ê³„
    - íšŒì› ê°ì²´ëŠ” Member.team í•„ë“œë¡œ íŒ€ ê°ì²´ì™€ ì—°ê´€ê´€ê³„ë¥¼ ë§ºëŠ”ë‹¤.
    - íšŒì› ê°ì²´ì™€ íŒ€ ê°ì²´ëŠ” ë‹¨ë°©í–¥ ê´€ê³„ë‹¤.
        - íšŒì›ì€ Member.team í•„ë“œë¥¼ í†µí•´ íŒ€ì„ ì•Œ ìˆ˜ ìˆë‹¤.
            - member -> team ì¡°íšŒ : member.getTeam()
        - íŒ€ì€ íšŒì›ì„ ì•Œ ìˆ˜ ì—†ë‹¤.
            - team -> member ì ‘ê·¼í•˜ëŠ” í•„ë“œ ì—†ìŒ

- í…Œì´ë¸” ì—°ê´€ê´€ê³„
    - íšŒì› í…Œì´ë¸”ì€ TEAM_ID ì™¸ë˜ í‚¤ë¡œ íŒ€ í…Œì´ë¸”ê³¼ ì—°ê´€ê´€ê³„ë¥¼ ë§ºëŠ”ë‹¤.
    - íšŒì› í…Œì´ë¸”ê³¼ íŒ€ í…Œì´ë¸”ì€ ì–‘ë°©í–¥ ê´€ê³„
        - íšŒì› í…Œì´ë¸”ì˜ TEAM_ID ì™¸ë˜ í‚¤ë¥¼ í†µí•´ íšŒì›ê³¼ íŒ€ì„ ì¡°ì¸í•  ìˆ˜ ìˆë‹¤.
        - íŒ€ê³¼ íšŒì›ë„ ì¡°ì¸í•  ìˆ˜ ìˆë‹¤.

- ê°ì²´ ì—°ê´€ê´€ê³„ì™€ í…Œì´ë¸” ì—°ê´€ê´€ê³„ì˜ ê°€ì¥ í° ì°¨ì´
    - ì°¸ì¡°ë¥¼ í†µí•œ ì—°ê´€ê´€ê³„ëŠ” ì–¸ì œë‚˜ ë‹¨ë°©í–¥ì´ë‹¤.
    - ì–‘ë°©í–¥ìœ¼ë¡œ ë§Œë“¤ê³  ì‹¶ë‹¤ë©´? ë°˜ëŒ€ìª½ì—ë„ í•„ë“œë¥¼ ì¶”ê°€í•˜ì—¬(ì—°ê´€ê´€ê³„) ì°¸ì¡°ë¥¼ ë³´ê´€í•´ì•¼ í•¨.
    - ì–‘ë°˜í–¥ ê´€ê³„ë¼ê¸°ë³´ë‹¤ëŠ” ì„œë¡œ ë‹¤ë¥¸ ë‹¨ë°©í–¥ ê´€ê³„ 2ê°œ..

- ê°ì²´ ì—°ê´€ê´€ê³„ vs í…Œì´ë¸” ì—°ê´€ê´€ê³„ ì •ë¦¬
    - ê°ì²´ëŠ” ì°¸ì¡°(ì£¼ì†Œ)ë¡œ ì—°ê´€ê´€ê³„ë¥¼ ë§ºìŒ
    - í…Œì´ë¸”ì€ ì™¸ë˜ í‚¤ë¡œ ì—°ê´€ê´€ê³„ ë§ºìŒ
    - ì°¸ì¡°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê°ì²´ì˜ ì—°ê´€ê´€ê³„ëŠ” ë‹¨ë°©í–¥
        - A -> B (a,b)
    - ì™¸ë˜ í‚¤ë¥¼ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì˜ ì—°ê´€ê´€ê³„ëŠ” ì–‘ë°©í–¥
        - A JOIN B ê°€ ê°€ëŠ¥í•˜ë©´ ë°˜ëŒ€ë¡œ B JOIN A ë„ ê°€ëŠ¥
    - ê°ì²´ë¥¼ ì–‘ë°©í–¥ìœ¼ë¡œ ì°¸ì¡°í•˜ë ¤ë©´ ë‹¨ë°©í–¥ ì—°ê´€ê´€ê³„ë¥¼ 2ê°œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.
        - A -> B (a,b)
        - B -> A (b,a)

### 5.1.1 ê°ì²´ ê´€ê³„ ë§¤í•‘
```java
@Entity
@Getter
@NoArgsConstructor
public class Member2 {
    
    @Id
    @Column(name = "MEMBER_ID")
    private String id;
    
    private String username;

    @ManyToOne
    @JoinColumn(name="TEAM_ID")
    private Team team;  //íŒ€ì˜ ì°¸ì¡°ë¥¼ ë³´ê´€

    public Member2(String id, String username) {
        this.id = id;
        this.username = username;
    }

    public void setTeam(Team team) {
        this.team = team;
    }
}

@Entity
@NoArgsConstructor
@Getter
public class Team {

  @Id
  @Column(name = "TEAM_ID")
  private String id;

  private String name;

  public Team(String id, String name) {
    this.id = id;
    this.name = name;
  }
}
```
- ê°ì²´ ì—°ê´€ê´€ê³„: íšŒì› ê°ì²´ì˜ Member.team í•„ë“œ ì‚¬ìš©
- í…Œì´ë¸” ì—°ê´€ê´€ê³„: íšŒì› í…Œì´ë¸”ì˜ MEMBER.TEAM_ID ì™¸ë˜ í‚¤ ì»¬ëŸ¼ì„ ì‚¬ìš©
```java
    @ManyToOne
    @JoinColumn(name="TEAM_ID")
    private Team team;
```
- @ManyToOne
    - ë‹¤ëŒ€ì¼(N:1) ê´€ê³„ë¼ëŠ” ë§¤í•‘ ì •ë³´ì´ë‹¤.
    - íšŒì›ê³¼ íŒ€ì€ ë‹¤ëŒ€ì¼ ê´€ê³„ì´ë‹¤.
    - ì—°ê´€ê´€ê³„ë¥¼ ë§¤í•‘ ì‹œ ë‹¤ì¤‘ì„±ì„ ë‚˜íƒ€ë‚´ëŠ” ì–´ë…¸í…Œì´ì…˜ í•„ìˆ˜

- @JoinColumn(name="TEAM_ID")
    - ì¡°ì¸ ì»¬ëŸ¼ì€ ì™¸ë˜ í‚¤ë¥¼ ë§¤í•‘í•  ë•Œ ì‚¬ìš©.
    - ìƒëµ ê°€ëŠ¥
    - name ì†ì„±ì—ëŠ” ë§¤í•‘í•  ì™¸ë˜ í‚¤ ì´ë¦„ì„ ì§€ì •í•œë‹¤.
    - íšŒì›ê³¼ íŒ€ í…Œì´ë¸”ì€ TEAM_ID ì™¸ë˜ í‚¤ë¡œ ì—°ê´€ê´€ê³„ë¥¼ ë§ºìœ¼ë¯€ë¡œ ì´ ê°’ì„ ì§€ì •í•˜ë©´ ëœë‹¤.

ğŸ”— [ì—°ê´€ê´€ê³„ ë§¤í•‘ ì–´ë…¸í…Œì´ì…˜ ì •ë¦¬](https://steel-blue.tistory.com/56)

## 5.2 ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„
- íŒ€ì—ì„œ íšŒì›ìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ” ê´€ê³„ë¥¼ ì¶”ê°€í•´ë³´ì.

![ì–‘ë°©í–¥.png](img/ì–‘ë°©í–¥.png)

- íšŒì›ê³¼ íŒ€ì€ ë‹¤ëŒ€ì¼ ê´€ê³„
- íŒ€ì—ì„œ íšŒì›ì€ ì¼ëŒ€ë‹¤ ê´€ê³„
    - ì¼ëŒ€ë‹¤ ê´€ê³„ëŠ” ì—¬ëŸ¬ ê±´ê³¼ ì—°ê´€ê´€ê³„ë¥¼ ë§ºì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
        - Team.membersë¥¼ List ì»¬ë ‰ì…˜ìœ¼ë¡œ ì¶”ê°€í–ˆë‹¤.

- íšŒì› -> íŒ€ (Member.team)
- íŒ€ > íšŒì› (Team.members)
- ğŸ’¡ JPAëŠ” Listë¥¼ í¬í•¨í•´ì„œ Collection, Set, Map ê°™ì€ ë‹¤ì–‘í•œ ì»¬ë ‰ì…˜ì„ ì§€ì›í•œë‹¤. (14.1ì ˆ)

```java
public class Team {

    @Id
    @Column(name = "TEAM_ID")
    private String id;

    private String name;
    
    //ì¶”ê°€
    @OneToMany (mappedBy = "team")
    private List<Member2> members = new ArrayList<Member2>();

    public Team(String id, String name) {
        this.id = id;
        this.name = name;
    }
}
```
- Teamí´ë˜ìŠ¤ì— OneToMany ì¶”ê°€
- íŒ€ê³¼ íšŒì›ì€ ì¼ëŒ€ë‹¤ ê´€ê³„ë‹¤.
- ë”°ë¼ì„œ íŒ€ ì—”í‹°í‹°ì— ì»¬ë ‰ì…˜ì¸ Listë¥¼ ì¶”ê°€ í–ˆë‹¤.
- ë˜, ì¼ëŒ€ë‹¤ ê´€ê³„ë¥¼ ë§¤í•‘í•˜ê¸° ìœ„í•´ @OneToMany ë§¤í•‘ ì •ë³´ë¥¼ ì‚¬ìš©í–ˆë‹¤.
- mappedBy ì†ì„±ì€ ì–‘ë°©í–¥ ë§¤í•‘ì¼ ë•Œ ì‚¬ìš©í•˜ëŠ”ë° ë°˜ëŒ€ìª½ ë§¤í•‘ì˜ í•„ë“œ ì´ë¦„ì„ ê°’ìœ¼ë¡œ ì£¼ë©´ ëœë‹¤.
- ë°˜ëŒ€ìª½ ë§¤í•‘ì´ Member.teamì´ë¯€ë¡œ teamì„ ê°’ìœ¼ë¡œ ì£¼ì—ˆë‹¤.

### 5.2.1 ì¼ëŒ€ë‹¤ ì»¬ë ‰ì…˜ ì¡°íšŒ
```java
Team team = em.find(Team.class, "team1");
List<Member2> members = team.getMembers();
```

## 5.3 ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸
### mappedBy ì†ì„±ì´ í•„ìš”í•œ ì´ìœ 

- ê°ì²´ì—ëŠ” ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ë¼ëŠ” ê²ƒì€ ì—†ë‹¤.
- ì„œë¡œ ë‹¤ë¥¸ ë‹¨ë°©í–¥ ì—°ê´€ê´€ê³„ 2ê°œë¥¼ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œì§ìœ¼ë¡œ ì˜ ë¬¶ì–´ì„œ ì–‘ë°©í–¥ì¸ ê²ƒì²˜ëŸ¼ ë³´ì´ê²Œ í•  ë¿.


- ê°ì²´ ì—°ê´€ê´€ê³„
    - íšŒì› -> íŒ€ ì—°ê´€ê´€ê³„ 1ê°œ(ë‹¨ë°©í–¥)
    - íŒ€ -> íšŒì› ì—°ê´€ê´€ê³„ 1ê°œ(ë‹¨ë°©í–¥)

- í…Œì´ë¸” ì—°ê´€ê´€ê³„
    - íšŒì› <-> íŒ€ì˜ ì—°ê´€ê´€ê³„ 1ê°œ(ì–‘ë°©í–¥)

- í…Œì´ë¸”ì€ ì™¸ë˜ í‚¤ í•˜ë‚˜ë¡œ ë‘ í…Œì´ë¸”ì˜ ì—°ê´€ê´€ê³„ë¥¼ ê´€ë¦¬í•œë‹¤.
- ì—”í‹°í‹°ë¥¼ ë‹¨ë°©í–¥ìœ¼ë¡œ ë§¤í•‘í•˜ë©´ ì°¸ì¡°ë¥¼ í•˜ë‚˜ë§Œ ì‚¬ìš©í•˜ë¯€ë¡œ,
    - ì´ ì°¸ì¡°ë¡œ ì™¸ë˜ í‚¤ë¥¼ ê´€ë¦¬í•˜ë©´ ëœë‹¤.

- but, ì—”í‹°í‹°ë¥¼ ì–‘ë°©í–¥ìœ¼ë¡œ ë§¤í•‘í•˜ë©´
    - íšŒì› -> íŒ€ , íŒ€ -> íšŒì› ë‘ê³³ì—ì„œ ì„œë¡œë¥¼ ì°¸ì¡°í•œë‹¤.
    - ë”°ë¼ì„œ ê°ì²´ì˜ ì—°ê´€ê´€ê³„ë¥¼ ê´€ë¦¬í•˜ëŠ” í¬ì¸íŠ¸ëŠ” 2ê³³ìœ¼ë¡œ ëŠ˜ì–´ë‚œë‹¤.


- ì—”í‹°í‹°ë¥¼ ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ë¡œ ì„¤ì •í•˜ë©´ ê°ì²´ì˜ ì°¸ì¡°ëŠ” ë‘˜ì¸ë° ì™¸ë˜ í‚¤ëŠ” í•˜ë‚˜ë‹¤.
- ë”°ë¼ì„œ ë‘˜ ì‚¬ì´ì— ì°¨ì´ê°€ ë°œìƒí•œë‹¤.

- ì´ëŸ¬í•œ ì°¨ì´ë¡œ ì¸í•´ JPAì—ì„œëŠ” ë‘ ê°ì²´ ì—°ê´€ê´€ê³„ ì¤‘ í•˜ë‚˜ë¥¼ ì •í•´, í…Œì´ë¸”ì˜ ì™¸ë˜í‚¤ë¥¼ ê´€ë¦¬í•´ì•¼ í•˜ëŠ”ë°
  ì´ê²ƒì„ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ë¼ í•œë‹¤.

### 5.3.1 ì–‘ë°©í–¥ ë§¤í•‘ì˜ ê·œì¹™: ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸
- ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ ë§¤í•‘ ì‹œ ì§€ì¼œì•¼ í•  ê·œì¹™
    - ë‘ ì—°ê´€ê´€ê³„ ì¤‘ í•˜ë‚˜ë¥¼ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ìœ¼ë¡œ ì •í•´ì•¼ í•¨.

- ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ë§Œì´ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê´€ê´€ê³„ì™€ ë§¤í•‘ë˜ê³ 
  ì™¸ë˜ í‚¤ë¥¼ ë“±ë¡í•  ìˆ˜ ìˆë‹¤.

- ë°˜ë©´ì— ì£¼ì¸ì´ ì•„ë‹Œ ìª½ì€ ì½ê¸°ë§Œ í•  ìˆ˜ ìˆë‹¤.
- ì–´ë–¤ ì—°ê´€ê´€ê³„ë¥¼ ì£¼ì¸ìœ¼ë¡œ ì •í• ì§€ëŠ” mappedBy ì†ì„±ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

- ì£¼ì¸ì€ mappedBy ì†ì„±ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.
- ì£¼ì¸ì´ ì•„ë‹ˆë©´ mappedBy ì†ì„±ì„ ì‚¬ìš©í•´ì„œ ì†ì„±ì˜ ê°’ìœ¼ë¡œ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì„ ì§€ì •í•´ì•¼ í•œë‹¤.


- íšŒì› -> íŒ€ (Member.team) ë°©í–¥
```java
class Member {
  @ManyToOne
  @JoinColumn (name="TEAM_ID")
  private Team team;
  ...
}
```

- íŒ€ -> íšŒì› (Team.members) ë°©í–¥
```java
class Team {
  @OneToMany
  private List<Member2> members = new ArrayList<Member>();
}
```
- ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì„ ì •í•œë‹¤ëŠ” ê²ƒì€ ì™¸ë˜ í‚¤ ê´€ë¦¬ìë¥¼ ì„ íƒí•˜ëŠ” ê²ƒì´ë‹¤.
- ì—¬ê¸°ì„œëŠ” íšŒì› í…Œì´ë¸”ì— ìˆëŠ” TEAM_ID ì™¸ë˜ í‚¤ë¥¼ ê´€ë¦¬í• (ë“±ë¡, ìˆ˜ì •, ì‚­ì œ..) ê´€ë¦¬ìë¥¼ ì„ íƒí•´ì•¼ í•œë‹¤.


- íšŒì› ì—”í‹°í‹°ì— ìˆëŠ” Member.teamì„ ì£¼ì¸ìœ¼ë¡œ ì„ íƒí•˜ë©´?
    - ìê¸° í…Œì´ë¸”ì— ìˆëŠ” ì™¸ë˜ í‚¤ë¥¼ ê´€ë¦¬í•˜ë©´ ë¨.

- íŒ€ ì—”í‹°í‹°ì— ìˆëŠ” Team.membersë¥¼ ì£¼ì¸ìœ¼ë¡œ ì„ íƒí•˜ë©´?
    - ë¬¼ë¦¬ì ìœ¼ë¡œ ì „í˜€ ë‹¤ë¥¸ í…Œì´ë¸”ì˜ ì™¸ë˜ í‚¤ë¥¼ ê´€ë¦¬í•´ì•¼ í•œë‹¤
        - why? Team.membersê°€ ìˆëŠ” Team ì—”í‹°í‹°ëŠ” TEAM í…Œì´ë¸”ì— ë§¤í•‘ë˜ì–´ ìˆëŠ”ë°
          ê´€ë¦¬í•´ì•¼í•  ì™¸ë˜ í‚¤ëŠ” MEMBER í…Œì´ë¸”ì— ìˆê¸° ë•Œë¬¸


### 5.3.2 ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì€ ì™¸ë˜ í‚¤ê°€ ìˆëŠ” ê³³
- ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì€ í…Œì´ë¸”ì— ì™¸ë˜ í‚¤ê°€ ìˆëŠ” ê³³ìœ¼ë¡œ ì •í•´ì•¼ í•œë‹¤.
- ì—¬ê¸°ì„œëŠ” íšŒì› í…Œì´ë¸”ì´ ì™¸ë˜ í‚¤ë¥¼ ê°€ì§€ê³  ìˆìœ¼ë¯€ë¡œ Member.teamì´ ì£¼ì¸ì´ ëœë‹¤.


- ì£¼ì¸ì´ ì•„ë‹Œ Team.membersì—ëŠ” mappedBy="team" ì†ì„±ì„ ì‚¬ìš©í•´ì„œ ì£¼ì¸ì´ ì•„ë‹˜ì„ ì„¤ì •í•œë‹¤.
- ê·¸ë¦¬ê³  mappedBy ì†ì„±ì˜ ê°’ìœ¼ë¡œëŠ” ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì¸ teamì„ ì£¼ë©´ ëœë‹¤.
- ì—¬ê¸°ì„œ mappedByì˜ ê°’ìœ¼ë¡œ ì‚¬ìš©ëœ teamì€ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì¸ Member ì—”í‹°í‹°ì˜ team í•„ë“œë¥¼ ë§í•¨.


## 5.4 ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ ì €ì¥
- ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ëŠ” ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ì™¸ë˜ í‚¤ë¥¼ ê´€ë¦¬í•¨.
- ë”°ë¼ì„œ ì£¼ì¸ì´ ì•„ë‹Œ ë°©í–¥ì€ ê°’ì„ ì„¤ì •í•˜ì§€ ì•Šì•„ë„ ë°ì´í„°ë² ì´ìŠ¤ì— ì™¸ë˜ í‚¤ ê°’ì´ ì •ìƒ ì…ë ¥ëœë‹¤.

```java
team1.getMembers().add(member1); // ë¬´ì‹œë¨
```
- Team.membersëŠ” ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì—
  ì£¼ì¸ì´ ì•„ë‹Œ ê³³ì— ì…ë ¥ëœ ê°’ì€ ì™¸ë˜ í‚¤ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤.

```java
member1.setTeam(team1); // ì—°ê´€ê´€ê³„ ì„¤ì •(ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸)
```
- Member.teamì€ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ê¸° ë•Œë¬¸ì— ì—”í‹°í‹° ë§¤ë‹ˆì €ëŠ” ì´ê³³ì— ì…ë ¥ëœ ê°’ì„ ì‚¬ìš©í•´ì„œ ì™¸ë˜ í‚¤ë¥¼ ê´€ë¦¬í•œë‹¤.


## 5.5 ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ì˜ ì£¼ì˜ì 
### 5.5.1 ìˆœìˆ˜í•œ ê°ì²´ê¹Œì§€ ê³ ë ¤í•œ ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„
- ê°ì²´ ê´€ì ì—ì„œ ì–‘ìª½ ë°©í–¥ì— ëª¨ë‘ ê°’ì„ ì…ë ¥í•´ì£¼ëŠ” ê²ƒì´ ê°€ì¥ ì•ˆì „í•˜ë‹¤.
### 5.5.2 ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì†Œë“œ
- ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ëŠ” ê²°êµ­ ì–‘ìª½ ë‹¤ ì‹ ê²½ ì¨ì•¼ í•œë‹¤.
- Member í´ë˜ìŠ¤ì˜ setTeam() ë©”ì†Œë“œë¥¼ ìˆ˜ì •í•˜ì—¬ ì½”ë“œë¥¼ ë¦¬íŒ©í† ë§í•œë‹¤.
```java
public void setTeam(Team team) {
        this.team = team;
        team.getMembers().add(this);
    }
```
- ì´ë ‡ê²Œ í•œ ë²ˆì— ì–‘ë°©í–¥ ê´€ê³„ë¥¼ ì„¤ì •í•˜ëŠ” ë©”ì†Œë“œë¥¼ ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì†Œë“œë¼ í•œë‹¤.

### 5.5.3 ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì†Œë“œ ì‘ì„± ì‹œ ì£¼ì˜ì‚¬í•­
```java
member1.setTeam(teamA);
member1.setTeam(teamB);
Member findMember = teamA.getMember();
```
- ì´ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ê·¸ë¦¼ìœ¼ë¡œ ë¶„ì„.
- ë¨¼ì € member1.setTeam(teamA)ë¥¼ í˜¸ì¶œí•œ ì§í›„

![ì‚­ì œë˜ì§€ì•Šì€ê´€ê³„1.png](img/ì‚­ì œë˜ì§€ì•Šì€ê´€ê³„1.png)

- member1.setTeam(teamB); í˜¸ì¶œ ì§í›„

![ì‚­ì œë˜ì§€ì•Šì€ê´€ê³„2.png](img/ì‚­ì œë˜ì§€ì•Šì€ê´€ê³„2.png)

### ë¬¸ì œì 
- teamBë¡œ ë³€ê²½í•  ë•Œ teamA -> member1 ê´€ê³„ë¥¼ ì œê±°í•˜ì§€ ì•Šì•˜ë‹¤.
- ì—°ê´€ê´€ê³„ë¥¼ ë³€ê²½í•  ë•ŒëŠ” ê¸°ì¡´ íŒ€ì´ ìˆìœ¼ë©´ ê¸°ì¡´ íŒ€ê³¼ íšŒì›ì˜ ì—°ê´€ê´€ê³„ë¥¼ ì‚­ì œí•˜ëŠ” ì½”ë“œë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤.
```java
    public void setTeam(Team team) {
        // ê¸°ì¡´ íŒ€ê³¼ ê´€ê³„ë¥¼ ì œê±°
        if(this.team != null) {
            this.team.getMembers().remove(this);
        }
        this.team = team;
        team.getMembers().add(this);
    }
```


### ğŸ“Œ ì •ë¦¬
- ë‹¨ë°©í–¥ ë§¤í•‘ë§Œìœ¼ë¡œ í…Œì´ë¸”ê³¼ ê°ì²´ì˜ ì—°ê´€ê´€ê³„ ë§¤í•‘ì€ ì´ë¯¸ ì™„ë£Œë˜ì—ˆë‹¤.
- ë‹¨ë°©í–¥ì„ ì–‘ë°©í–¥ìœ¼ë¡œ ë§Œë“¤ë©´ ë°˜ëŒ€ë°©í–¥ìœ¼ë¡œ ê°ì²´ ê·¸ë˜í”„ íƒìƒ‰ ê¸°ëŠ¥ì´ ì¶”ê°€ëœë‹¤.
- ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ë¥¼ ë§¤í•‘í•˜ë ¤ë©´ ê°ì²´ì—ì„œ ì–‘ìª½ ë°©í–¥ì„ ëª¨ë‘ ê´€ë¦¬í•´ì•¼ í•œë‹¤.
